# 9 Introduktion till IT-säkerhet

## 9.9 Linux paketuppdatering och patchhantering

Att hålla systemet uppdaterat är en av de viktigaste säkerhetsåtgärderna i Linux – och ändå är det något som ofta förbises. Ett opatchat system är som att lämna dörren på glänt – oavsett hur bra låset är.

De flesta sårbarheter som utnyttjas av angripare är redan kända – men systemen de angriper är inte uppdaterade. Det handlar alltså inte om avancerad "hacker-magi", utan snarare om att administratören inte har hunnit, orkat eller vetat att uppdatera i tid.

#### Varför är patchar så viktiga?

Patchar åtgärdar bland annat:

- Kända säkerhetshål
- Buggar som kan utnyttjas för att eskalera behörigheter
- Kompatibilitetsproblem
- Nya hot (t.ex. zero-day exploits som snabbt måste täppas till)

Kända säkerhetshål

Buggar som kan utnyttjas för att eskalera behörigheter

Kompatibilitetsproblem

Nya hot (t.ex. zero-day exploits som snabbt måste täppas till)

I ett större nätverk kan en sårbar server bli en inkörsport för angripare – även om det är en gammal testserver som glömts bort. Genom att hålla systemet uppdaterat stänger man dessa portar innan de ens hinner öppnas av en angripare.

#### Verktyg i Debian-baserade system

I Debian och Ubuntu använder man främst följande kommandon för uppdatering:

| Kommando | Förklaring |
| --- | --- |
| sudo apt update | Uppdaterar listan över tillgängliga paket från repositories |
| sudo apt upgrade | Installerar tillgängliga uppdateringar för installerade paket |
| sudo apt full-upgrade | Uppgraderar och tar även bort paket vid behov (beroenden) |
| apt list --upgradable | Visar vilka paket som har uppdateringar tillgängliga |

Kommando

Förklaring

sudo apt update

Uppdaterar listan över tillgängliga paket från repositories

sudo apt upgrade

Installerar tillgängliga uppdateringar för installerade paket

sudo apt full-upgrade

Uppgraderar och tar även bort paket vid behov (beroenden)

apt list --upgradable

Visar vilka paket som har uppdateringar tillgängliga

Man kan även använda apt-get, men apt är numera standard för interaktivt bruk.

Tips: Vill du endast uppgradera ett enskilt paket (t.ex. openssh-server), kan du använda:

sudo apt install --only-upgrade openssh-server

#### Automatisk uppdatering med unattended-upgrades

På servrar där man inte loggar in så ofta kan det vara bra att automatisera vissa uppdateringar – särskilt säkerhetspatchar.

Installation:

sudo apt install unattended-upgrades

Aktivera:

sudo dpkg-reconfigure --priority=low unattended-upgrades

Detta sätter upp automatisk installation av säkerhetsuppdateringar. Vill du justera vad som uppdateras, kan du redigera:

/etc/apt/apt.conf.d/50unattended-upgrades

Tips: Det går även att konfigurera loggning eller notifiering via e-post, så att du får veta när något uppdaterats.

#### Tips för patchhantering

- Kör apt update && apt upgrade minst en gång i veckan om du inte har automatisk hantering.
- Kontrollera /var/log/apt/history.log för att se vad som installerats – perfekt för felsökning.
- Följ med i säkerhetsflöden för din distribution – t.ex. Ubuntu Security Notices.
- Undvik att köra uppdateringar på produktion utan att först läsa vilka paket som påverkas.
- Kom ihåg: vissa uppdateringar (som kärnan) kräver omstart. Det kan kontrolleras med:

Kör apt update && apt upgrade minst en gång i veckan om du inte har automatisk hantering.

Kontrollera /var/log/apt/history.log för att se vad som installerats – perfekt för felsökning.

Följ med i säkerhetsflöden för din distribution – t.ex. Ubuntu Security Notices.

Undvik att köra uppdateringar på produktion utan att först läsa vilka paket som påverkas.

Kom ihåg: vissa uppdateringar (som kärnan) kräver omstart. Det kan kontrolleras med:


[ -f /var/run/reboot-required ] && echo "Omstart krävs"

Patchhantering handlar om att vara proaktiv – att stänga säkerhetshål innan någon försöker klättra in genom dem.


### 

### 9.9.1 Kontrollfrågor

- Vad är syftet med en patch?
- Vad är skillnaden mellan apt update och apt upgrade?
- Vilket kommando visar vilka paket som har uppdateringar tillgängliga?
- Vad innebär apt full-upgrade?
- Varför är det farligt att inte uppdatera ett Linux-system?
- Vad är unattended-upgrades och vad används det till?
- Hur installerar man unattended-upgrades?
- Var hittar du loggar över vad som uppdaterats på ett system?
- Varför bör man vara försiktig med uppdateringar på en produktionsserver?
- Hur ofta bör du uppdatera systemet om du inte har aktiverat automatisk uppdatering?

Vad är syftet med en patch?

Vad är skillnaden mellan apt update och apt upgrade?

Vilket kommando visar vilka paket som har uppdateringar tillgängliga?

Vad innebär apt full-upgrade?

Varför är det farligt att inte uppdatera ett Linux-system?

Vad är unattended-upgrades och vad används det till?

Hur installerar man unattended-upgrades?

Var hittar du loggar över vad som uppdaterats på ett system?

Varför bör man vara försiktig med uppdateringar på en produktionsserver?

Hur ofta bör du uppdatera systemet om du inte har aktiverat automatisk uppdatering?


### 

### 9.9.2 Fördjupningslänkar

- Ubuntu Security Notices https://ubuntu.com/security/notices
- Debian Security Information https://www.debian.org/security/
- Ubuntu Wiki – Unattended Upgrades https://wiki.ubuntu.com/UnattendedUpgrades
- APT Command Reference (Debian Wiki) https://wiki.debian.org/apt
- Linux Handbook – How to Update Ubuntu https://linuxhandbook.com/update-upgrade-ubuntu/

Ubuntu Security Notices
 https://ubuntu.com/security/notices

Debian Security Information
 https://www.debian.org/security/

Ubuntu Wiki – Unattended Upgrades
 https://wiki.ubuntu.com/UnattendedUpgrades

APT Command Reference (Debian Wiki)
 https://wiki.debian.org/apt

Linux Handbook – How to Update Ubuntu
 https://linuxhandbook.com/update-upgrade-ubuntu/


### 

### 9.9.3 Egna anteckningar

(Lämna plats för egna reflektioner och anteckningar här.)


### 


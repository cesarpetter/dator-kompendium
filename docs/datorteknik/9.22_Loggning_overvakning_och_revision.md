---
title: "9.22 Loggning, övervakning och revision"
parent: "Datorteknik"
nav_order: 922
---

# 9.22 Loggning, övervakning och revision

I takt med att hotbilden mot IT-system växer, blir det allt viktigare att inte bara skydda systemen – utan också att kunna upptäcka, spåra och analysera incidenter när de inträffar. Här spelar loggning, övervakning och revision en avgörande roll. Att "ha loggning" är inte detsamma som att "använda loggarna". Många företag sparar automatiskt loggfiler men saknar rutiner för att läsa av dem, analysera dem eller agera på det som upptäcks. Detta kapitel fördjupar sig i hur och varför loggning bör integreras i säkerhetsarbetet.
### 9.22.1 Varför loggning är en säkerhetsfråga
Loggning handlar om att skapa spårbarhet. När något går fel, eller när en attack upptäcks i efterhand, är loggfiler ofta det enda sättet att ta reda på vad som hände, hur det gick till, och vem som var inblandad. Exempel på sådant som kan loggas är inloggningsförsök (både lyckade och misslyckade), filsystemsåtkomst, programinstallationer, systemuppdateringar, brandväggsregler som ändrats samt trafik som blockeras eller släpps igenom. Loggar fungerar som en svart låda i IT-system – ju mer detaljerad loggning, desto bättre analysmöjlighet vid en incident.
### 9.22.2 Vad som bör loggas
Att logga allt är sällan praktiskt. Det ökar lagringsbehovet och försvårar analys. Fokus bör ligga på händelser som är säkerhetskritiska: inloggningar (särskilt felaktiga), ändringar i användarbehörigheter, konfigurationsändringar, start och stopp av tjänster, brandväggsändringar, systemfel och kraschloggar, samt åtkomst till känsliga filer eller API:er. I Active Directory-miljöer bör kontoskapande och Group Policy-ändringar loggas. I webbtjänster är det viktigt att registrera IP-adresser, användaragenter, sessions-ID, begärda URL:er och statuskoder – men man bör undvika att lagra för mycket persondata.
### 9.22.3 Övervakning i realtid
I vissa miljöer krävs mer än bara passiv loggning – man behöver kunna upptäcka hot i realtid. Det gäller särskilt system som är exponerade mot internet, har fjärråtkomst eller innehåller känslig data. Wazuh kombinerar logginsamling och incidentrespons, Fail2ban reagerar på mönster som många felinloggningar, och SIEM-system som Splunk, ELK eller Microsoft Sentinel används för att upptäcka komplexa hot. IDS/IPS-system kan dessutom reagera på misstänkt nätverkstrafik.
### 9.22.4 Revision och efteranalys
Revision innebär att man granskar loggar i efterhand för att förstå en incident eller kontrollera att regler följs. Det kan handla om att ta reda på vem som ändrat i en databas, när ett konto skapades, eller vilka IP-adresser som haft åtkomst. Revision är centralt för att visa efterlevnad av exempelvis GDPR, ISO 27001 eller NIS2, men det är också ett viktigt verktyg i det dagliga säkerhetsarbetet.
### 9.22.5 Juridiska aspekter på loggning
Loggfiler innehåller ofta personuppgifter – som användarnamn och IP-adresser – och omfattas därför av dataskyddslagstiftning. Det är viktigt att informera användare om att loggning sker, att radera loggar efter en rimlig tid, och att aldrig logga känslig information som lösenord eller kortnummer. Loggfiler ska även skyddas mot obehörig åtkomst. En loggfil är alltså både en teknisk och juridisk resurs.
### 9.22.6 Vanliga misstag
Det är vanligt att man tror att loggning är aktiverad – utan att ha kontrollerat det. Många system kräver manuell aktivering. Ett annat misstag är att spara loggar lokalt utan backup – något som kan få stora konsekvenser vid t.ex. ransomware. Många analyserar heller inte loggar förrän något redan har gått fel. Och kanske vanligast av allt: man glömmer att tänka på integritet – överdrivet detaljerade loggar kan i sig utgöra ett hot.
### 9.22.7 Kontrollfrågor
- Varför är loggning en viktig del av IT-säkerhet?
- Ge tre exempel på vad som bör loggas i ett serversystem.
- Vad menas med "övervakning i realtid"?
- Vilka verktyg kan användas för att upptäcka mönster i loggfiler?
- Vad är ett SIEM-system?
- Hur används revision i säkerhetsarbetet?
- Vilken roll spelar loggning i efterlevnad av GDPR?
- Vad är en risk med att logga för mycket information?
- Ge exempel på en juridisk åtgärd man bör vidta vid loggning.
- Varför är det ett problem att spara loggar endast lokalt?
Varför är loggning en viktig del av IT-säkerhet?
Ge tre exempel på vad som bör loggas i ett serversystem.
Vad menas med "övervakning i realtid"?
Vilka verktyg kan användas för att upptäcka mönster i loggfiler?
Vad är ett SIEM-system?
Hur används revision i säkerhetsarbetet?
Vilken roll spelar loggning i efterlevnad av GDPR?
Vad är en risk med att logga för mycket information?
Ge exempel på en juridisk åtgärd man bör vidta vid loggning.
Varför är det ett problem att spara loggar endast lokalt?
### 9.22.8 Fördjupningslänkar
- Wazuh – Open Source Security Platform https://wazuh.com/
- Logghantering och GDPR (Integritetsskyddsmyndigheten) https://www.imy.se/verksamhet/it-och-sakerhet/loggar-och-personuppgifter/
- Introduction to SIEM – Microsoft https://learn.microsoft.com/en-us/azure/sentinel/overview
- Graylog – Open source log management https://www.graylog.org/
- EU GDPR – What is considered personal data? https://gdpr.eu/eu-gdpr-personal-data/
Wazuh – Open Source Security Platform https://wazuh.com/
Logghantering och GDPR (Integritetsskyddsmyndigheten) https://www.imy.se/verksamhet/it-och-sakerhet/loggar-och-personuppgifter/
Introduction to SIEM – Microsoft https://learn.microsoft.com/en-us/azure/sentinel/overview
Graylog – Open source log management https://www.graylog.org/
EU GDPR – What is considered personal data? https://gdpr.eu/eu-gdpr-personal-data/
### 9.22.9 Egna anteckningar
(Lämna plats för egna reflektioner och anteckningar här.)
## 9.6 Säkerhet i Linuxmiljö

Linux används i allt från webbservrar och IoT-enheter till superdatorer och molntjänster. Därför är det avgörande att förstå hur man skyddar dessa system mot attacker. Många attacker mot Linux-system handlar inte om att gissa lösenord, utan om att utnyttja dåliga inställningar – till exempel öppna portar, gamla programversioner eller bortglömda användarkonton. Det är därför Linux-säkerhet ofta handlar mer om hur du konfigurerar än vad du installerar.

Viktigt! Denna del kommer i första hand utgå från Debian-baserade system såsom Ubuntu m.m., så vissa av kommandona kommer inte att stämma mot andra distributioner.

### 9.6.1 Grundläggande säkerhetsprinciper

När man arbetar med Linux, särskilt i serversammanhang, är det viktigt att inte bara tänka på vad systemet kan göra – utan också hur man minimerar riskerna. Det finns ett antal principer som utgör grunden för hur vi tänker kring säkerhet i Linuxmiljöer.

#### Minsta möjliga behörighet (Least Privilege)

Detta är kanske den allra viktigaste principen inom IT-säkerhet – och i Linux är det inbyggt i systemets design. Alla kommandon behöver inte köras som root. Tvärtom: ju färre kommandon som körs med hög behörighet, desto mindre risk att en attack lyckas. Detta gäller även tjänster – det är bättre att en webbserver kör som användaren www-data än som root, eftersom skadorna vid en kompromettering då blir begränsade.

Exempel:Om du installerar ett paket som vanlig användare, händer inget. Det kräver sudo. Detta är ett medvetet hinder – och ett skydd.

Tips:Skapa hellre specifika användare för olika uppgifter än att ge root-access till allt. En webbtjänst ska t.ex. inte kunna skriva till /etc eller läsa andras hemkataloger.

#### Defense in Depth – Flera lager av skydd

En brandvägg är bra. Men det räcker inte. Vad händer om någon lyckas ta sig förbi den? Då vill du ha en logg som visar vad som hände. Kanske ett IDS-system som larmar. Och kryptering som förhindrar åtkomst till känslig information.

Tänk på det som en lök – säkerheten byggs i lager.

Exempel på lager:

- Brandvägg (t.ex. ufw)
- Logganalysverktyg (t.ex. logwatch)
- Automatisk blockering av inloggningsförsök (t.ex. fail2ban)
- Diskkryptering (t.ex. LUKS)
- Systemgranskning (t.ex. lynis)

Inget enskilt skydd räcker – men tillsammans gör de systemet mycket säkrare.

#### Minska attackytan

Ju mer som körs, desto mer kan gå fel. Linux-servrar installeras ofta med så lite som möjligt – just för att minska risken.

Exempel på onödiga risker:

- Öppna portar för tjänster du inte använder (ex: FTP, Telnet)
- Användarkonton som inte längre används
- Programvara som inte uppdateras

Tips:

- Kör ss -tuln för att se vilka portar som är öppna
- Avinstallera tjänster du inte behöver
- Inaktivera oanvända användare och konton(lista användare med cut -d: -f1 /etc/passwd, inaktivera med sudo usermod --expiredate 1 användarnamn)
- Stäng onödig trafik med ufw:

sudo ufw status

sudo ufw deny ftp

#### Standardinställningar är inte alltid säkra

Linux är kraftfullt – men ibland lämnas konfigurationen i ett osäkert tillstånd efter installation.

Exempel:

- SSH tillåter root-login
- Loggar roteras inte
- Tjänster kör med för höga rättigheter

Att härda systemet är en viktig del av driften – inte ett engångsjobb.

Tips: Installera lynis och kör sudo lynis audit system för en översiktlig säkerhetsgranskning.

#### Säkerhet är en process – inte en produkt

Det går inte att installera ett "säkerhetsprogram" och sen luta sig tillbaka. Säkerheten måste underhållas och ses som en levande del av drift och administration.

Åtgärder som bör vara rutin:

- Patcha regelbundet – håll system och paket uppdaterade
- Bevaka sårbarheter (CVE) – t.ex. via ubuntu-security-notice eller https://cve.mitre.org
- Automatisera säkerhetsuppdateringar med unattended-upgrades eller apticron
- Testa miljön regelbundet med verktyg som lynis, rkhunter eller chkrootkit

### 

### 9.6.2 Kontrollfrågor

- Vad innebär principen "minsta möjliga behörighet"?
- Varför är det viktigt att undvika att köra kommandon som root i onödan?
- Vad menas med "defense in depth"?
- Ge tre exempel på olika säkerhetslager du kan använda på en Linux-server.
- Vad är en "attackyta" i ett operativsystem?
- Varför är det en dålig idé att ha onödiga tjänster igång?
- Vad kan kommandot ss -tuln användas till?
- Varför kan standardinställningar vara osäkra?
- Vad är risken med att tillåta SSH-login som root?
- Varför är säkerhet en process, inte en engångsåtgärd?

### 

### 9.6.3 Fördjupningslänkar

- NIST – Least Privilege [https://csrc.nist.gov/glossary/term/least_privilege](https://csrc.nist.gov/glossary/term/least_privilege)
- RedHat – Security Best Practices [https://access.redhat.com/articles/763933](https://access.redhat.com/articles/763933)
- Ubuntu Hardening Wiki [https://wiki.ubuntu.com/Security/Hardening](https://wiki.ubuntu.com/Security/Hardening)
- Linux Foundation – Defense in Depth [https://training.linuxfoundation.org/blog/linux-security-basics-defense-in-depth/](https://training.linuxfoundation.org/blog/linux-security-basics-defense-in-depth/)
- CIS Benchmarks – General Linux Guidance [https://www.cisecurity.org/benchmark/linux](https://www.cisecurity.org/benchmark/linux)

### 

### 9.6.4 Egna anteckningar

(Lämna plats för egna reflektioner och fördjupningar här.)

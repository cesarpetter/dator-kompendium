## 9.24 Backup och återställning

Att ha en bra backup är inte bara en teknisk åtgärd – det är en försäkring mot dataförlust, ransomware, hårddiskhaverier, mänskliga misstag och katastrofer. Trots det är backup ofta något som prioriteras först efter att något gått fel. I detta kapitel går vi igenom varför backup är livsviktigt, vilka metoder som finns, hur man testar återställning och vanliga misstag att undvika.

### 9.24.1 Varför backup?

Alla som någon gång har tappat bort viktiga filer vet hur frustrerande det kan vara. Men när det handlar om en hel servermiljö, kritisk verksamhetsdata eller en databas med kundinformation – då kan förlusten bli förödande. Vanliga orsaker till dataförlust inkluderar ransomware, oavsiktlig radering, hårdvaruhaveri (t.ex. döda SSD:er), brand, översvämning, elfel, sabotage eller felaktiga uppdateringar. En säkerhetskopia är inte bara till för återställning efter katastrof – det är också ett verktyg för att ångra misstag, återställa tidigare versioner av filer, och möjliggöra experimentering utan rädsla.

### 9.24.2 Typer av backup

Det finns flera typer av backup, med olika för- och nackdelar beroende på miljö och behov. En full backup innebär att en komplett kopia av all data tas. Den är långsammare men enkel att återställa. Inkrementell backup sparar bara det som ändrats sedan senaste backupen – effektivt men kräver fler steg vid återställning. Differentiell backup sparar allt som ändrats sedan senaste fulla backup och är en kompromiss mellan snabbhet och enkelhet. Snapshot är en ögonblicksbild av ett system, vanligt i virtualiseringsmiljöer som Proxmox. Molnbaserad backup innebär att data skickas till en extern tjänst som AWS eller Backblaze – bra vid fysiska katastrofer men beroende av uppkoppling och avtal. Offline-backup innebär att data sparas på fristående media som kopplas bort från nätverket – extra skydd mot ransomware.

### 9.24.3 3-2-1-regeln

En klassisk tumregel för säker backup är 3-2-1-regeln: ha tre kopior av datan, på två olika typer av media, och en kopia offsite. Ett exempel är originalet på servern, en kopia på en lokal NAS, och en tredje kopia i molnet via Backblaze. Denna metod skyddar mot tekniska fel, mänskliga misstag och fysiska katastrofer.

### 9.24.4 Återställning – ofta glömd men avgörande

Att kunna återställa är viktigare än att kunna ta backup. Det är lätt att tro att backupen fungerar – tills den behövs. Därför bör återställning testas regelbundet. Det är viktigt att dokumentera hur återställning går till steg för steg, att återställa både enstaka filer och hela system inklusive databaser, samt att kontrollera integriteten hos backupfiler med exempelvis checksummor. Tiden det tar att återställa är också viktig – ett långsamt återställningsförfarande kan bli kostsamt.

### 9.24.5 Kryptering och integritet

Backuper innehåller ofta känslig information. Om den datan hamnar i fel händer kan det få allvarliga konsekvenser. Därför bör backupfiler krypteras – till exempel med VeraCrypt eller en inbyggd lösning – och backupservrar skyddas med brandvägg och stark autentisering. Det är också klokt att kontrollera loggar för att se om någon obehörig försökt läsa eller ladda ner en backup. En läckt backup kan ge en angripare tillgång till hela din miljö – vilket kan vara värre än att inte ha någon backup alls.

### 9.24.6 Vanliga misstag

Ett vanligt fel är att bara ha en backup – om den går förlorad finns inget skydd kvar. Ett annat misstag är att spara backupen på samma disk eller server som originalet – om den kraschar är båda borta. Många backuprutiner är manuella och glöms bort, därför bör de automatiseras. Att inte testa återställning gör att man bara tror att det fungerar, och att inte kryptera backupfiler innebär en risk för dataläckor.

### 9.24.7 Kontrollfrågor

- Varför är backup viktigt för säkerhet?
- Vad är skillnaden mellan en inkrementell och en differentiell backup?
- Förklara 3-2-1-regeln för backup.
- Varför räcker det inte att bara ta backup – varför måste man testa återställning?
- Vad är en snapshot och när kan det användas?
- Vilka risker finns med att inte kryptera sina säkerhetskopior?
- Vad menas med offline-backup?
- Hur kan molnbaserad backup vara både en fördel och en risk?
- Vilken backupstrategi skulle du föreslå för ett mindre företag?
- Vad är de vanligaste misstagen vid backuphantering?

### 9.24.8 Fördjupningslänkar

- Veeam – What is 3-2-1 Backup? [https://www.veeam.com/blog/3-2-1-backup-rule.html](https://www.veeam.com/blog/3-2-1-backup-rule.html)
- CrashPlan for Small Business [https://www.crashplan.com/en-us/](https://www.crashplan.com/en-us/)
- Backblaze Blog – Real World Backup Strategies [https://www.backblaze.com/blog/the-3-2-1-backup-strategy/](https://www.backblaze.com/blog/the-3-2-1-backup-strategy/)
- Linux Handbook – rsync command explained [https://linuxhandbook.com/rsync-command/](https://linuxhandbook.com/rsync-command/)
- MSB – Råd för backup och återställning [https://www.msb.se/sv/rad-till-verksamheter/informationssakerhet/tekniska-atgarder/sakerhetskopiering/](https://www.msb.se/sv/rad-till-verksamheter/informationssakerhet/tekniska-atgarder/sakerhetskopiering/)

### 9.24.9 Egna anteckningar

(Lämna plats för egna reflektioner och anteckningar här.)

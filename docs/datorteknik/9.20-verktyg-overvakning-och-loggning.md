## 9.20 Verktyg, Ã¶vervakning och loggning

Att ha brandvÃ¤ggar, antivirus och uppdateringar Ã¤r viktigt â€“ men det rÃ¤cker inte. FÃ¶r att kunna upptÃ¤cka angrepp, analysera intrÃ¥ng och fÃ¶rstÃ¥ vad som hÃ¤nder i ett system behÃ¶vs Ã¶vervakning och loggning. Detta kapitel gÃ¥r igenom verktygen och tankesÃ¤tten bakom ett effektivt Ã¶vervakningssystem.

### 9.20.1 VarfÃ¶r loggning Ã¤r avgÃ¶rande

Loggfiler Ã¤r systemets minne. De registrerar allt frÃ¥n inloggningar och systemfel till nÃ¤tverkstrafik och misstÃ¤nkta aktiviteter. Om nÃ¥got gÃ¥r fel â€“ en server kraschar, ett konto kapas eller en ransomware-attack intrÃ¤ffar â€“ Ã¤r det loggarna som hjÃ¤lper oss att fÃ¶rstÃ¥ vad som hÃ¤nt.

Utan loggar blir felsÃ¶kning ofta en gissningslek.

Exempel pÃ¥ viktiga loggfiler i olika miljÃ¶er:

- Windows: Event Viewer (t.ex. Security, System, Application)
- Linux: /var/log/auth.log, /var/log/syslog, /var/log/apache2/*
- NÃ¤tverk: brandvÃ¤ggsloggar, routrar, accesspunkter
- Applikationer: databasservrar, webbservrar, e-postservrar

ğŸ’¡ Tips: Att logga Ã¤r inte nog â€“ du mÃ¥ste ocksÃ¥ samla in, analysera och lagra loggar pÃ¥ ett sÃ¤kert sÃ¤tt.

### 9.20.2 Centrala loggverktyg â€“ Syslog, journald, Event Viewer

I moderna IT-miljÃ¶er Ã¤r det vanligt att loggar frÃ¥n mÃ¥nga olika enheter samlas pÃ¥ ett stÃ¤lle. Detta kallas central logghantering och gÃ¶r det lÃ¤ttare att upptÃ¤cka mÃ¶nster och hot.

Linux:

- Syslog â€“ Ã¤ldre system som skriver loggar till /var/log/. Vanliga verktyg Ã¤r rsyslog och syslog-ng.
- journald â€“ nyare loggsystem som anvÃ¤nds i systemd-baserade distributioner. Visas med journalctl.

Windows:

- Event Viewer â€“ inbyggt verktyg som grupperar loggar i System, Security och Application.
- FÃ¶r central hantering anvÃ¤nds exempelvis Event Forwarding, Graylog, Wazuh eller Elastic Stack (ELK).

ğŸ’¬ Loggformaten skiljer sig â€“ men syftet Ã¤r detsamma: Vad hÃ¤nde, nÃ¤r, hur och varfÃ¶r?

### 9.20.3 Ã–vervakningsverktyg â€“ Wazuh, Zabbix, Nagios

Loggning Ã¤r passiv â€“ den registrerar vad som hÃ¤nt. Ã–vervakning Ã¤r aktiv â€“ den reagerar pÃ¥ vad som hÃ¤nder just nu.

Exempel pÃ¥ Ã¶vervakningsverktyg:

- Wazuh â€“ Open source XDR/EDR och SIEM. Samlar loggar, upptÃ¤cker hot och larmar.
- Zabbix â€“ Ã¶vervakar CPU, RAM, disk, nÃ¤tverk m.m. och ger grafisk Ã¶versikt.
- Nagios â€“ klassiker inom driftÃ¶vervakning, sÃ¤rskilt fÃ¶r nÃ¤tverkstjÃ¤nster.

Verktygen kan:

- Skicka e-post eller SMS vid fel
- Skapa grafer Ã¶ver trender (t.ex. CPU-belastning)
- Identifiera attacker och onormal aktivitet
- Dokumentera SLA, upptid och tillgÃ¤nglighet

ğŸ“Œ BÃ¤st skydd fÃ¥r du genom att kombinera loggar, Ã¶vervakning och larm.

### 9.20.4 SIEM â€“ Samlad analys av sÃ¤kerhetsloggar

SIEM stÃ¥r fÃ¶r Security Information and Event Management. Ett SIEM-system samlar in och analyserar loggar frÃ¥n mÃ¥nga kÃ¤llor â€“ och letar efter mÃ¶nster och hot i realtid.

SIEM hjÃ¤lper dig att:

- Korrelera hÃ¤ndelser (â€logg A + logg B = mÃ¶jlig attackâ€)
- Identifiera ovanlig aktivitet
- Reagera direkt pÃ¥ incidenter
- FÃ¥ en samlad sÃ¤kerhetsÃ¶versikt

Exempel pÃ¥ SIEM-lÃ¶sningar:

- Wazuh â€“ inkluderar SIEM-funktioner
- Graylog â€“ fokuserar pÃ¥ logg- och eventanalys
- Splunk â€“ kommersiell SIEM-lÃ¶sning med kraftfull analys
- ELK Stack â€“ Ã¶ppen och flexibel (Elasticsearch, Logstash, Kibana)

ğŸ“Œ SIEM Ã¤r sÃ¤rskilt viktigt i stÃ¶rre nÃ¤tverk dÃ¤r mÃ¥nga system interagerar.

### 9.20.5 Att tÃ¤nka pÃ¥ vid Ã¶vervakning â€“ etik och lagstiftning

Att Ã¶vervaka system Ã¤r nÃ¶dvÃ¤ndigt â€“ men det innebÃ¤r ocksÃ¥ ansvar. Ã–vervakning och loggning pÃ¥verkar individers integritet och mÃ¥ste ske pÃ¥ ett korrekt sÃ¤tt.

Grundregler:

- Informera anvÃ¤ndare om att loggning sker
- Spara inte mer Ã¤n nÃ¶dvÃ¤ndigt
- Skydda loggarna mot obehÃ¶rig Ã¥tkomst
- FÃ¶lj GDPR, NIS2 och andra relevanta regelverk

ğŸ”’ Etik handlar om tillit. Ã–vervakning ska ske fÃ¶r att skydda, inte fÃ¶r att spionera.

### 9.20.6 KontrollfrÃ¥gor

- VarfÃ¶r Ã¤r loggfiler viktiga vid IT-sÃ¤kerhetsarbete?
- Vad Ã¤r skillnaden mellan loggning och Ã¶vervakning?
- Vad gÃ¶r ett verktyg som Wazuh?
- Vad stÃ¥r SIEM fÃ¶r och vad anvÃ¤nds det till?
- NÃ¤mn tvÃ¥ loggverktyg i Linux och tvÃ¥ i Windows.
- Vad innebÃ¤r central logghantering?
- Vad Ã¤r fÃ¶rdelen med att ha Ã¶vervakning i realtid?
- Hur kan GDPR pÃ¥verka hur man hanterar loggar?
- Vad Ã¤r syftet med korrelation i ett SIEM-system?
- VarfÃ¶r Ã¤r det viktigt att informera anvÃ¤ndare om Ã¶vervakning?

### 9.20.7 FÃ¶rdjupningslÃ¤nkar

â€“ Wazuh â€“ Officiell webbplats [https://wazuh.com](https://wazuh.com/)

â€“ Graylog â€“ Logghantering [https://www.graylog.org](https://www.graylog.org/)

â€“ Zabbix â€“ Ã–vervakning [https://www.zabbix.com](https://www.zabbix.com/)

â€“ Splunk â€“ SIEM-lÃ¶sning [https://www.splunk.com](https://www.splunk.com/)

â€“ MSB â€“ Loggning och incidenthantering [https://www.msb.se/sv/rad-till-verksamheter/informationssakerhet/tekniska-atgarder/loggning-och-incidenthantering/](https://www.msb.se/sv/rad-till-verksamheter/informationssakerhet/tekniska-atgarder/loggning-och-incidenthantering/)

### 9.20.8 Egna anteckningar

(LÃ¤mna plats fÃ¶r reflektioner, egna verktygstips eller exempel.)

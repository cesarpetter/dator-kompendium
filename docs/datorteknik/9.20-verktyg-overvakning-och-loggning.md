# 9 Introduktion till IT-s√§kerhet

## 9.20 Verktyg, √∂vervakning och loggning

Att ha brandv√§ggar, antivirus och uppdateringar √§r viktigt ‚Äì men det r√§cker inte. F√∂r att kunna uppt√§cka angrepp, analysera intr√•ng och f√∂rst√• vad som h√§nder i ett system beh√∂vs √∂vervakning och loggning. Detta kapitel g√•r igenom verktygen och tankes√§tten bakom ett effektivt √∂vervakningssystem.

### 9.20.1 Varf√∂r loggning √§r avg√∂rande

Loggfiler √§r systemets minne. De registrerar allt fr√•n inloggningar och systemfel till n√§tverkstrafik och misst√§nkta aktiviteter. Om n√•got g√•r fel ‚Äì en server kraschar, ett konto kapas eller en ransomware-attack intr√§ffar ‚Äì √§r det loggarna som hj√§lper oss att f√∂rst√• vad som h√§nt.

Utan loggar blir fels√∂kning ofta en gissningslek.

Exempel p√• viktiga loggfiler i olika milj√∂er:

- Windows: Event Viewer (t.ex. Security, System, Application)
- Linux: /var/log/auth.log, /var/log/syslog, /var/log/apache2/*
- N√§tverk: brandv√§ggsloggar, routrar, accesspunkter
- Applikationer: databasservrar, webbservrar, e-postservrar

Windows: Event Viewer (t.ex. Security, System, Application)

Linux: /var/log/auth.log, /var/log/syslog, /var/log/apache2/*

N√§tverk: brandv√§ggsloggar, routrar, accesspunkter

Applikationer: databasservrar, webbservrar, e-postservrar

üí° Tips: Att logga √§r inte nog ‚Äì du m√•ste ocks√• samla in, analysera och lagra loggar p√• ett s√§kert s√§tt.

### 9.20.2 Centrala loggverktyg ‚Äì Syslog, journald, Event Viewer

I moderna IT-milj√∂er √§r det vanligt att loggar fr√•n m√•nga olika enheter samlas p√• ett st√§lle. Detta kallas central logghantering och g√∂r det l√§ttare att uppt√§cka m√∂nster och hot.

Linux:

- Syslog ‚Äì √§ldre system som skriver loggar till /var/log/. Vanliga verktyg √§r rsyslog och syslog-ng.
- journald ‚Äì nyare loggsystem som anv√§nds i systemd-baserade distributioner. Visas med journalctl.

Syslog ‚Äì √§ldre system som skriver loggar till /var/log/. Vanliga verktyg √§r rsyslog och syslog-ng.

journald ‚Äì nyare loggsystem som anv√§nds i systemd-baserade distributioner. Visas med journalctl.

Windows:

- Event Viewer ‚Äì inbyggt verktyg som grupperar loggar i System, Security och Application.
- F√∂r central hantering anv√§nds exempelvis Event Forwarding, Graylog, Wazuh eller Elastic Stack (ELK).

Event Viewer ‚Äì inbyggt verktyg som grupperar loggar i System, Security och Application.

F√∂r central hantering anv√§nds exempelvis Event Forwarding, Graylog, Wazuh eller Elastic Stack (ELK).

üí¨ Loggformaten skiljer sig ‚Äì men syftet √§r detsamma: Vad h√§nde, n√§r, hur och varf√∂r?

### 9.20.3 √ñvervakningsverktyg ‚Äì Wazuh, Zabbix, Nagios

Loggning √§r passiv ‚Äì den registrerar vad som h√§nt. √ñvervakning √§r aktiv ‚Äì den reagerar p√• vad som h√§nder just nu.

Exempel p√• √∂vervakningsverktyg:

- Wazuh ‚Äì Open source XDR/EDR och SIEM. Samlar loggar, uppt√§cker hot och larmar.
- Zabbix ‚Äì √∂vervakar CPU, RAM, disk, n√§tverk m.m. och ger grafisk √∂versikt.
- Nagios ‚Äì klassiker inom drift√∂vervakning, s√§rskilt f√∂r n√§tverkstj√§nster.

Wazuh ‚Äì Open source XDR/EDR och SIEM. Samlar loggar, uppt√§cker hot och larmar.

Zabbix ‚Äì √∂vervakar CPU, RAM, disk, n√§tverk m.m. och ger grafisk √∂versikt.

Nagios ‚Äì klassiker inom drift√∂vervakning, s√§rskilt f√∂r n√§tverkstj√§nster.

Verktygen kan:

- Skicka e-post eller SMS vid fel
- Skapa grafer √∂ver trender (t.ex. CPU-belastning)
- Identifiera attacker och onormal aktivitet
- Dokumentera SLA, upptid och tillg√§nglighet

Skicka e-post eller SMS vid fel

Skapa grafer √∂ver trender (t.ex. CPU-belastning)

Identifiera attacker och onormal aktivitet

Dokumentera SLA, upptid och tillg√§nglighet

üìå B√§st skydd f√•r du genom att kombinera loggar, √∂vervakning och larm.

### 9.20.4 SIEM ‚Äì Samlad analys av s√§kerhetsloggar

SIEM st√•r f√∂r Security Information and Event Management. Ett SIEM-system samlar in och analyserar loggar fr√•n m√•nga k√§llor ‚Äì och letar efter m√∂nster och hot i realtid.

SIEM hj√§lper dig att:

- Korrelera h√§ndelser (‚Äùlogg A + logg B = m√∂jlig attack‚Äù)
- Identifiera ovanlig aktivitet
- Reagera direkt p√• incidenter
- F√• en samlad s√§kerhets√∂versikt

Korrelera h√§ndelser (‚Äùlogg A + logg B = m√∂jlig attack‚Äù)

Identifiera ovanlig aktivitet

Reagera direkt p√• incidenter

F√• en samlad s√§kerhets√∂versikt

Exempel p√• SIEM-l√∂sningar:

- Wazuh ‚Äì inkluderar SIEM-funktioner
- Graylog ‚Äì fokuserar p√• logg- och eventanalys
- Splunk ‚Äì kommersiell SIEM-l√∂sning med kraftfull analys
- ELK Stack ‚Äì √∂ppen och flexibel (Elasticsearch, Logstash, Kibana)

Wazuh ‚Äì inkluderar SIEM-funktioner

Graylog ‚Äì fokuserar p√• logg- och eventanalys

Splunk ‚Äì kommersiell SIEM-l√∂sning med kraftfull analys

ELK Stack ‚Äì √∂ppen och flexibel (Elasticsearch, Logstash, Kibana)

üìå SIEM √§r s√§rskilt viktigt i st√∂rre n√§tverk d√§r m√•nga system interagerar.

### 9.20.5 Att t√§nka p√• vid √∂vervakning ‚Äì etik och lagstiftning

Att √∂vervaka system √§r n√∂dv√§ndigt ‚Äì men det inneb√§r ocks√• ansvar. √ñvervakning och loggning p√•verkar individers integritet och m√•ste ske p√• ett korrekt s√§tt.

Grundregler:

- Informera anv√§ndare om att loggning sker
- Spara inte mer √§n n√∂dv√§ndigt
- Skydda loggarna mot obeh√∂rig √•tkomst
- F√∂lj GDPR, NIS2 och andra relevanta regelverk

Informera anv√§ndare om att loggning sker

Spara inte mer √§n n√∂dv√§ndigt

Skydda loggarna mot obeh√∂rig √•tkomst

F√∂lj GDPR, NIS2 och andra relevanta regelverk

üîí Etik handlar om tillit. √ñvervakning ska ske f√∂r att skydda, inte f√∂r att spionera.



### 9.20.6 Kontrollfr√•gor

- Varf√∂r √§r loggfiler viktiga vid IT-s√§kerhetsarbete?
- Vad √§r skillnaden mellan loggning och √∂vervakning?
- Vad g√∂r ett verktyg som Wazuh?
- Vad st√•r SIEM f√∂r och vad anv√§nds det till?
- N√§mn tv√• loggverktyg i Linux och tv√• i Windows.
- Vad inneb√§r central logghantering?
- Vad √§r f√∂rdelen med att ha √∂vervakning i realtid?
- Hur kan GDPR p√•verka hur man hanterar loggar?
- Vad √§r syftet med korrelation i ett SIEM-system?
- Varf√∂r √§r det viktigt att informera anv√§ndare om √∂vervakning?

Varf√∂r √§r loggfiler viktiga vid IT-s√§kerhetsarbete?

Vad √§r skillnaden mellan loggning och √∂vervakning?

Vad g√∂r ett verktyg som Wazuh?

Vad st√•r SIEM f√∂r och vad anv√§nds det till?

N√§mn tv√• loggverktyg i Linux och tv√• i Windows.

Vad inneb√§r central logghantering?

Vad √§r f√∂rdelen med att ha √∂vervakning i realtid?

Hur kan GDPR p√•verka hur man hanterar loggar?

Vad √§r syftet med korrelation i ett SIEM-system?

Varf√∂r √§r det viktigt att informera anv√§ndare om √∂vervakning?



### 9.20.7 F√∂rdjupningsl√§nkar

‚Äì Wazuh ‚Äì Officiell webbplats
 https://wazuh.com

‚Äì Graylog ‚Äì Logghantering
 https://www.graylog.org

‚Äì Zabbix ‚Äì √ñvervakning
 https://www.zabbix.com

‚Äì Splunk ‚Äì SIEM-l√∂sning
 https://www.splunk.com

‚Äì MSB ‚Äì Loggning och incidenthantering
 https://www.msb.se/sv/rad-till-verksamheter/informationssakerhet/tekniska-atgarder/loggning-och-incidenthantering/



### 9.20.8 Egna anteckningar

(L√§mna plats f√∂r reflektioner, egna verktygstips eller exempel.)



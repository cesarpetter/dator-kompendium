## 1.2 Processorn (CPU)

### 1.2.0 Inledning och historia

En CPU (Central Processing Unit) är den del av datorn som utför instruktionerna i ett program. Det är viktigt att förstå att program skrivs för en processorarkitektur, inte direkt för ett operativsystem. Operativsystemet är istället ett lager mellan programmet och hårdvaran.

På 1970-talet och tidigt 80-tal fanns många olika typer av processorer med egna instruktionsuppsättningar. Intels 8086-processor (lanserad 1978) blev revolutionerande eftersom den introducerade x86-arkitekturen. Den hade en 16-bitars instruktionsuppsättning och var bakåtkompatibel med tidigare modeller (8080 och 8085), vilket gjorde det enklare för utvecklare att porta eller skriva program. x86-arkitekturen blev en standard som än idag används (numera som 64-bitarsversionen x86-64 eller AMD64).

AMD:s roll i historien är också viktig. AMD började som en tillverkare som licenstillverkade Intels x86-processorer på 80-talet, så att Intel inte hade monopol. Det innebar att både Intel och AMD tillverkade kompatibla processorer som kunde köra samma program. Under årens lopp utvecklade AMD egna unika processorer och innovationer, som introduktionen av 64-bitars x86-arkitekturen (AMD64) och flertrådningstekniker i konsumentprocessorer.

Under 80- och 90-talet fanns även andra tillverkare av x86-kompatibla CPU:er, till exempel Cyrix, VIA och NexGen, men hård konkurrens gjorde att de flesta försvann eller köptes upp. Idag är Intel och AMD de två dominerande tillverkarna för stationära och bärbara datorer.

AMD har också satsat mycket på APU-konceptet (Accelerated Processing Unit), där man integrerar CPU och GPU på samma chip. Det gör att enklare system (t.ex. laptops eller budgetdatorer) kan klara grafik utan ett separat grafikkort, samtidigt som det sparar ström och utrymme.

Bärbara spelkonsoler, som Steam Deck, använder ofta AMD-APU:er av denna anledning – du kan få mycket högre grafikprestanda på mindre yta och med lägre strömförbrukning.

Intel har liknande teknik med sina "integrated graphics", men AMD:s APU:er är ofta kända för något bättre grafikprestanda i instegssegmentet.

Nomenklatur – hur läser man modellnamnen?Intel använder ofta namn som Core i3, i5, i7 och i9 för att visa prestandanivåer. Efter namnet kommer en sifferkombination som visar generation och modell, till exempel i5-11500 betyder generation 11, modell 500. Bokstäver i slutet visar särskilda egenskaper:

- K: upplåst för överklockning
- F: saknar integrerad grafik
- T: låg effekt (lägre strömförbrukning)
- HK/H: hög prestanda i laptops (HK ofta överklockningsbar)

AMD:s Ryzen-processorer är indelade i serier som Ryzen 3, 5, 7 och 9. Siffernamnen liknar Intels modellnamn – till exempel Ryzen 5 5600X betyder Ryzen 5 (mellansegment), generation 5000 (Zen 3-arkitektur) och modell 600. Bokstäver kan visa egenskaper:

- X: högre klockfrekvens eller bättre binning
- G: integrerad grafik (APU)
- U: låg strömförbrukning för laptops
- H/HS/HX: hög prestanda i laptops (H-serien)

Genom att förstå dessa namn kan man lättare jämföra och välja rätt processor för olika behov – och se skillnaden på till exempel en högpresterande desktop-CPU, en energisnål laptop-CPU eller en APU med inbyggd grafik.

### 1.2.1 Vad är en CPU?

En CPU är datorns hjärna och arbetsledare. Den utför instruktionerna i de program som körs, men ansvarar också för att styra och samordna resurserna i systemet. CPU:n tar emot instruktioner från minnet, avkodar dem och exekverar dem. Det kan handla om allt från att göra matematiska beräkningar till att styra annan hårdvara eller fördela arbetsuppgifter mellan olika delar av systemet.

En stor del av CPU:ns arbete handlar faktiskt om att göra väldigt snabba och smarta gissningar om vilka instruktioner som behövs härnäst (branch prediction), och om att hålla data redo för att undvika väntetider. På så sätt fungerar CPU:n inte bara som en räknemaskin utan också som en avancerad arbetsledare som organiserar och optimerar datorns arbete.

### 1.2.2 Funktion

CPU:ns funktion kan delas in i tre huvudsakliga steg:

- Fetch: Processorn hämtar instruktioner från minnet (RAM).
- Decode: Den avkodar instruktionen för att förstå vad som ska göras.
- Execute: Den utför instruktionen (t.ex. en beräkning eller att flytta data).

Hur snabbt en CPU kan göra dessa steg bestäms av dess klockfrekvens. Klockfrekvensen mäts i gigahertz (GHz) och representerar antalet svängningar per sekund som styr processorcyklerna. Varje klockcykel är som ett "tick" som synkroniserar alla delar av CPU:n. En högre klockfrekvens betyder i princip att fler instruktioner kan utföras per sekund.

Vanliga basfrekvenser idag ligger mellan ca 2,5 och 4,0 GHz för stationära processorer. Moderna CPU:er har också Turbo Boost eller liknande teknik som höjer klockfrekvensen tillfälligt (t.ex. 4,5–5,5 GHz) när extra prestanda behövs, så länge temperaturen och strömförbrukningen tillåter det.

Men högre klockfrekvens innebär också högre strömförbrukning och värmeutveckling. Det finns en gräns för hur mycket man kan öka frekvensen innan processorn blir för varm eller ineffektiv. För att öka prestanda utan att spränga dessa gränser har man istället börjat använda fler kärnor, så att fler instruktioner kan köras parallellt.

### 1.2.3 Viktiga delar och egenskaper

- Cores / Threads: En modern CPU har flera kärnor (cores) som kan utföra beräkningar parallellt. Threads (trådar) är en teknik för att simulera flera parallella processer på en kärna (t.ex. Intels Hyper-Threading eller AMDs SMT).

Eftersom klockfrekvensen har fysikaliska begränsningar (värme, ström), har CPU-tillverkare istället ökat antalet kärnor för att höja den totala prestandan. Med fler kärnor kan flera program eller trådar arbeta samtidigt utan att en enskild kärna behöver köras extremt snabbt.

- Cache: Ett litet men extremt snabbt minne inuti processorn. Cacheminnet lagrar data och instruktioner som används ofta så att CPU:n slipper hämta dem från det långsammare RAM-minnet. Det finns ofta flera nivåer av cache (L1, L2, L3) med olika hastighet och storlek.
- Die / Dye och tillverkningsteknik: Processorns hjärta är en liten bit kisel som kallas die. På denna yta sitter miljarder transistorer som fungerar som strömbrytare i elektroniska kretsar. Moderna tillverkningsprocesser använder extremt små strukturer, ofta 3–7 nanometer (nm), vilket betyder att avståndet mellan transistorernas leder bara är några miljarddelar av en meter. Mindre tillverkningsprocesser innebär ofta högre prestanda, lägre strömförbrukning och möjlighet att få in fler kärnor på samma yta.

Hela die monteras på ett kretskort med kontakter och ett skyddande hölje som kallas package. I videor från t.ex. Linus Tech Tips ser man ofta när någon tar bort den övre metallkapseln och blottar själva die. OBS! Många kallar det felaktigt för dye på nätet – korrekt stavning är die.

- Sockelkompatibilitet: CPU:n måste passa i moderkortets sockel. Intel och AMD har olika socklar, och även inom samma tillverkare varierar socklar mellan generationer. Att välja rätt sockel är avgörande vid datorbygge.
- Arkitektur: En CPU:s design och instruktionsuppsättning avgör hur den fungerar. Exempel är x86-64 (vanlig i stationära datorer) och ARM (vanlig i mobiltelefoner och surfplattor). Arkitekturen bestämmer hur program måste skrivas för att kunna köras på processorn.

### 1.2.4 Vanliga tillverkare och modeller

De största tillverkarna av CPU:er för persondatorer är Intel och AMD. Intel har serier som Core i3, i5, i7 och i9 som visar olika prestandanivåer. Till exempel är i3 enklare och billigare, medan i9 är avsedd för de mest krävande användarna. AMD använder Ryzen 3, 5, 7 och 9 på liknande sätt.

Efter modellnamnet kommer en sifferkombination som visar generation och modell. Exempelvis betyder i5-11500 generation 11, modell 500. Ryzen 5 5600X betyder Ryzen 5-serien, generation 5000, modell 600 och bokstaven X för högre prestanda.

Intel och AMD tillverkar även serverprocessorer (Intel Xeon, AMD EPYC) och strömsnåla varianter för laptops med andra bokstavsändelser (t.ex. Intel U, H eller HK). ARM-baserade processorer (t.ex. Apple M-serien, Qualcomm Snapdragon) används i mobiltelefoner, surfplattor och ibland i laptops.

### 1.2.5 Installation och kylning

En CPU installeras i moderkortets sockel. Det är avgörande att välja en processor som passar moderkortets sockeltyp. När processorn placeras i sockeln används kylpasta mellan CPU:n och kylaren för att förbättra värmeöverföringen.

Kylaren kan vara luftbaserad (med fläkt och kylfläns) eller vattenkyld. Effektiv kylning är nödvändig eftersom processorer genererar mycket värme under drift, särskilt vid hög klockfrekvens eller överklockning. För högpresterande system används därför ofta avancerade kylsystem.

### 

### 1.2.6 Diskussions- och kontrollfrågor

- Vad menas med fetch, decode och execute?
- Vad är skillnaden mellan en core och en thread?
- Varför är cacheminnet viktigt?
- Vad betyder 3 nm tillverkningsteknik?
- Ge exempel på olika CPU-tillverkare och serier.
- Varför behöver man kylpasta?
- Vad kan hända om en CPU blir för varm?

### 

### 1.2.7 Fördjupande länkar

- Intel – How CPUs Work [https://www.intel.com/content/www/us/en/gaming/resources/how-processors-work.html](https://www.intel.com/content/www/us/en/gaming/resources/how-processors-work.html)
- AMD – Ryzen Processors Overview [https://www.amd.com/en/products/ryzen-processors](https://www.amd.com/en/products/ryzen-processors)
- Linus Tech Tips – What is a CPU? (YouTube) [https://www.youtube.com/watch?v=cNN_tTXABUA](https://www.youtube.com/watch?v=cNN_tTXABUA)
- Wikipedia – Central Processing Unit [https://en.wikipedia.org/wiki/Central_processing_unit](https://en.wikipedia.org/wiki/Central_processing_unit)

### 1.2.8 Egna anteckningar

(Här kan du som elev skriva egna anteckningar om CPU, frågor eller reflektioner)

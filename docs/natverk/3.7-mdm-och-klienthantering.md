# 3. Nätverksadministration

## 3.7 MDM och klienthantering

### 3.7.1 Vad är MDM – och varför spelar det roll?

MDM (Mobile/Modern Device Management) är idén att styra klienternas beteende och säkerhet centralt, oavsett var de befinner sig. Där AD + GPO utgår från att datorn befinner sig “på plats” i domänen, utgår MDM från att enheten kan stå var som helst – hemma, i klassrummet, på ett café – och ändå få rätt policy, rätt appar och rätt nätprofiler över internet. Tekniskt sker detta via en push-kanal (Apple/Google/Microsofts notistjänster) som väcker klienten och säger “hämta din nästa policy”, medan en MDM-agent eller inbyggt stöd i OS ser till att inställningarna faktiskt sätts.

Det viktiga för administratörer att förstå är skillnaden i filosofi: MDM modellerar datorn som ett hanterat objekt med mätbara tillstånd (kryptering? brandvägg? låsskärm?) och efterlevnad (compliance). Uppfyller enheten kraven får den tillgång (t.ex. till e-post eller lärarportaler); annars blockeras eller begränsas den tills kraven är uppfyllda. På så sätt blir säkerhet en egenskap av klientens tillstånd, inte bara av vilket nät man sitter på.

Förtydligande (sammanfattning):

- MDM → internetförst: funkar oavsett plats och VLAN.
- Policy som tillstånd: “är BitLocker/FileVault på?”, “är OS uppdaterat?”.
- Efterlevnad → åtkomst: klarar du kraven får du tjänsten (annars inte).

MDM → internetförst: funkar oavsett plats och VLAN.

Policy som tillstånd: “är BitLocker/FileVault på?”, “är OS uppdaterat?”.

Efterlevnad → åtkomst: klarar du kraven får du tjänsten (annars inte).

Exempel: En lärardator som är helkrypterad, har skärmlås och aktuell patchnivå får automatiskt full åtkomst till skolans e-post och molnlagring. En dator som halkat efter får bara läsa kursplaner tills den har uppdaterats.

### 3.7.2 Ekosystemet: Intune, Jamf – och öppna alternativ

I Windowsvärlden är Microsoft Intune den vanligaste MDM-plattformen. Den talar alla de språk Windows behöver (Windows-MDM-CSP, Autopilot, Entra-ID-integration) och hanterar även iOS/iPadOS/macOS och Android i samma verktyg, vilket är praktiskt i skola. På Apple-sidan är Jamf branschstandard för djup styrning av macOS och iOS/iPadOS – särskilt när man vill in i Apples “alla detaljer” (Configuration Profiles, appdistribution, “supervised” läge, kontrollerad återställning). För Android är Android Enterprise själva modellen: “Work profile” för BYOD och “Fully managed” för skolägda enheter, ofta orkestrerat via Intune eller en Android-fokuserad MDM.

Det finns öppna och öppet licensierade alternativ, men de är oftast mer plattformsspecifika och kräver mer hands-on: t.ex. MicroMDM för macOS (ren Apple-MDM), eller Android-fokuserade community-varianter. De kan vara utmärkta i labb eller nischade behov, men ersätter sällan en heterogen skolmiljös krav på rapporter, efterlevnad och integrationer (identitet, appar, certifikat).

Förtydligande (sammanfattning):

- Intune: bred täckning (Win/macOS/iOS/Android), bra på Windows-livscykel.
- Jamf: djup Apple-styrning och Apple-flöden (ADE, VPP).
- Android Enterprise: Work profile (BYOD), Fully managed (skolägda).
- Öppna projekt: lärorika och vassa, men oftare smalare.

Intune: bred täckning (Win/macOS/iOS/Android), bra på Windows-livscykel.

Jamf: djup Apple-styrning och Apple-flöden (ADE, VPP).

Android Enterprise: Work profile (BYOD), Fully managed (skolägda).

Öppna projekt: lärorika och vassa, men oftare smalare.

Exempel: En kommun kör Intune för Windows-parken och låter Jamf sköta Mac-datorer i estetiska programmet. Båda plattformarna rapporterar efterlevnad till samma identitetstjänst, så åtkomstregler blir konsekventa.

### 3.7.3 Centralt styrda policyer och säkerhetsinställningar

MDM uttrycker säkerhet som mätbara regler. Istället för “har vi rullat ut brandväggen?” frågar du “är brandväggen på och blockerar den inkommande trafik?”. Därifrån följer ett antal byggstenar som återkommer oavsett OS:

- Enhetskonfiguration: skärmlås, lösenordspolicy, brandvägg, kryptering (BitLocker/FileVault), USB-policy, WLAN-profiler (SSID, 802.1X-certifikat), VPN-profiler, webbfiltret.
- Efterlevnad (compliance): minsta OS-version, kryptering på, ingen jailbreak/root, aktiva skydd.
- Apphantering: paketera, distribuera, uppdatera och – vid behov – ta bort appar; i Applevärlden via VPP (licenser) och i Android via Managed Google Play.
- Villkorad åtkomst (Conditional Access): låt identiteten kontrollera tjänsten baserat på enhetens status.
- Certifikatlivscykel: utfärda, förnya och dra tillbaka klient-certifikat för 802.1X, VPN och appar.

Enhetskonfiguration: skärmlås, lösenordspolicy, brandvägg, kryptering (BitLocker/FileVault), USB-policy, WLAN-profiler (SSID, 802.1X-certifikat), VPN-profiler, webbfiltret.

Efterlevnad (compliance): minsta OS-version, kryptering på, ingen jailbreak/root, aktiva skydd.

Apphantering: paketera, distribuera, uppdatera och – vid behov – ta bort appar; i Applevärlden via VPP (licenser) och i Android via Managed Google Play.

Villkorad åtkomst (Conditional Access): låt identiteten kontrollera tjänsten baserat på enhetens status.

Certifikatlivscykel: utfärda, förnya och dra tillbaka klient-certifikat för 802.1X, VPN och appar.

Det här låter stort, men effekten i vardagen är just enkelhet: du behöver inte längre fråga “var står datorn?”, utan “uppfyller den kraven?”.

Exempel: En elevdator ansluter till skolans WLAN utan att någon rör en knapp: MDM har redan lagt WLAN-profilen med 802.1X-certifikatet, och brandväggen vet att bara skolans resolvers får svara på DNS.

### 3.7.4 Provisionering och livscykel: från kartong till återbruk

Det moderna idealet är zero-touch: att en ny enhet kan öppnas av användaren och “hitta hem” utan att IT-personal rör den. För Windows kallas detta Autopilot, för Apple Automated Device Enrollment (ADE) via Apple School/Business Manager, och för Android Zero-touch (eller QR/NFC-inrullning). Poängen är inte magi, utan kedjan: enheten känner igen sig som skolägd, ansluter till MDM, får policyer, appar, profiler – och presenterar login på rätt sätt. Lika viktigt är offboarding: att kunna återtaga licenser, rensa data (helt eller selektivt vid BYOD), och återanvända enheten till nästa elev.

Förtydligande (sammanfattning):

- Ägda enheter: full styrning, full wipe; kan låsas till skolans ägarskap.
- BYOD: selektiv rensning (ta bort skoldata, lämna privatdata).
- Livscykel: inrullning → drift/uppdatering → support → återlämning/återbruk.

Ägda enheter: full styrning, full wipe; kan låsas till skolans ägarskap.

BYOD: selektiv rensning (ta bort skoldata, lämna privatdata).

Livscykel: inrullning → drift/uppdatering → support → återlämning/återbruk.

Exempel: Årskurs 1 får nya laptops. Autopilot visar skolans välkomstbild, kopplar upp mot MDM, lägger in WLAN-profil och Office-appar – lektionen kan börja direkt utan imaging eller manuell patchning.

### 3.7.5 Mobilitet, BYOD och externa enheter

BYOD (“ta med egen enhet”) och externa minnen (USB, mobil lagring) rör inte bara teknik, utan juridik och förtroende. Bra MDM-upplägg håller isär personlig integritet och skolans data. På Android innebär det Work profile: skolans appar och data bor i en skyddad “bubbla” som IT kan styra, medan privatdelen förblir privat. På iOS/iPadOS finns User Enrollment för liknande separation, och på macOS kan policyer riktas utan att ge IT “insyn” i allt. För USB är poängen inte förbud i sig, utan riskreducering: vissa roller kanske behöver fullt stöd (t.ex. media-elever), andra bara läsning eller helt avstängt.

Förtydligande (sammanfattning):

- BYOD: separera skoldata från privatdata; var tydlig med vad som loggas.
- USB och externa enheter: differentiera per program/roll; logga beslut.
- Rese-scenarier: nätprofiler/VPN gör att “skolan” följer med även utanför skolans väggar.

BYOD: separera skoldata från privatdata; var tydlig med vad som loggas.

USB och externa enheter: differentiera per program/roll; logga beslut.

Rese-scenarier: nätprofiler/VPN gör att “skolan” följer med även utanför skolans väggar.

Exempel: En vikarie loggar in på sin privata iPad och får bara access till lärarportalen via en skyddad container. När uppdraget är slut kan skolan rensa container-delen utan att röra privata bilder och appar.

### 3.7.6 Varför Windows Server ofta är navet – och var Linux glänser

I många svenska miljöer inom offentlig sektor och utbildning fungerar Windows Server med Active Directory (AD DS) som ett nav för identitet, policy och infrastruktur. Det beror både på klientflottans sammansättning (ofta Windows) och på att AD samlar autentisering (Kerberos/NTLM), grupp- och rättighetsmodeller, DNS/DHCP och gruppolicy (GPO) i en sammanhängande helhet. Alltifrån skrivare och filresurser till inloggningsupplevelse kan därför kopplas till samma identitetskälla. Under senare år har många organisationer gått mot hybrida upplägg där ett lokalt AD samverkar med molnidentitet och MDM (t.ex. Entra ID/Intune), så att traditionella GPO:er och moderna, internetförsta policyer kan samexistera.

Linuxservrar fyller samtidigt en stark och bred tjänsteroll. De används ofta för filer och utskrifter (Samba/CUPS), webb och applikationer (NGINX/Apache, applikationsramverk), infrastrukturtjänster (reverse proxy, cache/proxy, databaser, RADIUS, syslog), automatisering (t.ex. Ansible) och containrar (Docker/Kubernetes). Linux kan även bära identitetstjänster (t.ex. Samba-AD-DC eller FreeIPA/IdM) när arkitekturen kräver det, men där Windows-klienter dominerar är AD ofta fortsatt den primära identitetskällan, medan Linux fungerar som stabila tjänstenoder runt navet. Valet handlar mindre om “bäst i test” och mer om arkitektur: AD där sammanhållen klientidentitet och policystyrning är centralt; Linux där öppna, skalbara servertjänster och plattformar behövs – med interoperabilitet via LDAP/Kerberos/SMB som gör att helheten sitter ihop.

Exempel: Ett verksamhetsnät använder AD för konton, grupper, DNS/DHCP och skrivare. Runtom levererar Linux en filresurs för elevmaterial, en webbtjänst för schema och en containerplattform för interna appar. Klienterna hanteras med MDM så att policy och åtkomst är konsekvent även utanför kontoret.


### 3.7.7 Vanliga arketyper i organisationer

I praktiken framträder några återkommande mönster för hur klienter och tjänster hanteras. De skiljer sig främst i var identiteten bor, hur policy distribueras och var data/appar levereras.

Klassisk on-prem
Identitet och policy ligger i lokalt AD med GPO för Windows-klienter; Configuration Manager eller likvärdigt används för paket och imaging; Jamf används ofta för macOS/iPadOS; fil- och utskriftstjänster körs lokalt. Fördelen är förutsägbarhet och låg latens på plats. Nackdelen är ett starkt beroende av skolans nät och schemalagda uppkopplingar.

Hybrid
Ett lokalt AD samverkar med molnidentitet och MDM (t.ex. Entra ID/Intune för Windows, Jamf för Apple). GPO hanterar miljöer som mår bra av platsnära styrning (t.ex. datasalar), medan bärbara enheter och plattor följer internetförst-policy via MDM. Filresurser rör sig delvis mot moln, och åtkomst styrs villkorat utifrån enhetens efterlevnad. Fördelen är att både platsnära och rörliga behov får stöd. Nackdelen är ökad komplexitet i gränssnittet mellan system.

Cloud-first
Identitet och policy lever primärt i molnet; Intune hanterar Windows, Jamf/Android Enterprise används där det passar; lokalt AD minimeras eller avvecklas; applikationer och filer levereras som molntjänster. Fördelen är att hanteringen i hög grad blir oberoende av plats och VLAN. Nackdelen är beroendet av externa tjänster och behovet av väl definierade processer för efterlevnad och dataskydd.

Exempel: I en kommun med flera skolor drivs salar med platsnära policy via GPO för stabil uppstart och låg latens, medan lärarbärbara och plattor följer MDM-policy över internet. Identiteten är gemensam, men styrningen sker via två kompletterande spår.

### 3.7.8 Vanliga fallgropar och hållbara tumregler

De problem som uppstår i MDM-miljöer beror oftare på otydliga målbilder än på teknikfel. Om önskat enhetstillstånd inte är definierat blir policyer motsägelsefulla. Om efterlevnadskriterier är vaga blir åtkomstregler svårförutsägbara. Och om insyn och loggning inte kommuniceras tydligt riskerar förtroendet att urholkas. Stabilitet uppnås när grundkraven är mätbara, när skolägda och privata enheter hanteras separat och när nätanslutning görs friktionsfri genom förkonfigurerade profiler.

Förtydligande (sammanfattning):

- Mätbara grundkrav: kryptering, patchnivå, skärmlås, brandvägg.
- Tydlig segmentering: skolägda enheter vs BYOD med olika policy och rensningsrättigheter.
- Förkonfigurerad anslutning: WLAN-/VPN-profiler och certifikatlivscykel som del av MDM.
- Transparens: vad som samlas in/loggas, varför det görs och vad som uttryckligen inte övervakas.

Mätbara grundkrav: kryptering, patchnivå, skärmlås, brandvägg.

Tydlig segmentering: skolägda enheter vs BYOD med olika policy och rensningsrättigheter.

Förkonfigurerad anslutning: WLAN-/VPN-profiler och certifikatlivscykel som del av MDM.

Transparens: vad som samlas in/loggas, varför det görs och vad som uttryckligen inte övervakas.

Exempel: Införandet av BYOD möter initial skepsis. När informationen förtydligar att MDM endast hanterar arbetsprofilens appar, OS-version och krypteringsstatus—och inte privata foton, SMS eller webbhistorik—ökar acceptansen och supportärenden minskar.


### 

### 📌 Kontrollfrågor

- Vad är den konceptuella skillnaden mellan GPO och MDM?
- Hur omsätter MDM “säkerhet” till mätbara tillstånd, och varför är det viktigt för åtkomst?
- När passar Intune bäst, när passar Jamf bäst, och vad vinner du på att kombinera dem?
- Vad innebär Android Work Profile jämfört med Fully Managed, och hur påverkar det BYOD?
- Vilka fem saker vill du nästan alltid ha som MDM-policy på skolägda datorer?
- Hur fungerar zero-touch i Windows/Apple/Android i stora drag, och varför förenklar det support?
- Vad menas med selektiv wipe och när är det avgörande?
- Varför är certifikatlivscykel central i WLAN/VPN-profiler, och hur hjälper MDM?
- I vilken roll är Windows Server/AD oftast navet, och när lyfter du hellre in Linuxservrar?
- Beskriv en typisk hybrid-arkitektur i skola och hur MDM knyter ihop den.

Vad är den konceptuella skillnaden mellan GPO och MDM?

Hur omsätter MDM “säkerhet” till mätbara tillstånd, och varför är det viktigt för åtkomst?

När passar Intune bäst, när passar Jamf bäst, och vad vinner du på att kombinera dem?

Vad innebär Android Work Profile jämfört med Fully Managed, och hur påverkar det BYOD?

Vilka fem saker vill du nästan alltid ha som MDM-policy på skolägda datorer?

Hur fungerar zero-touch i Windows/Apple/Android i stora drag, och varför förenklar det support?

Vad menas med selektiv wipe och när är det avgörande?

Varför är certifikatlivscykel central i WLAN/VPN-profiler, och hur hjälper MDM?

I vilken roll är Windows Server/AD oftast navet, och när lyfter du hellre in Linuxservrar?

Beskriv en typisk hybrid-arkitektur i skola och hur MDM knyter ihop den.

### 

### 🔗 Fördjupningslänkar

- Microsoft Intune – översikter och scenarier: https://learn.microsoft.com/mem/intune/
- Windows Autopilot – koncept: https://learn.microsoft.com/windows/deployment/windows-autopilot/
- Conditional Access & device compliance: https://learn.microsoft.com/entra/identity/conditional-access/
- Jamf Pro – dokumentation: https://docs.jamf.com/
- Apple School/Business Manager & Automated Device Enrollment: https://support.apple.com/guide/apple-business-manager/welcome/web
- Managed Apple IDs och User Enrollment: https://support.apple.com/guide/apple-business-manager/intro-to-user-enrollment/web
- Android Enterprise – översikt: https://developers.google.com/android/work
- Samba (SMB på Linux) – docs: https://www.samba.org/samba/docs/

Microsoft Intune – översikter och scenarier: https://learn.microsoft.com/mem/intune/

Windows Autopilot – koncept: https://learn.microsoft.com/windows/deployment/windows-autopilot/

Conditional Access & device compliance: https://learn.microsoft.com/entra/identity/conditional-access/

Jamf Pro – dokumentation: https://docs.jamf.com/

Apple School/Business Manager & Automated Device Enrollment: https://support.apple.com/guide/apple-business-manager/welcome/web

Managed Apple IDs och User Enrollment: https://support.apple.com/guide/apple-business-manager/intro-to-user-enrollment/web

Android Enterprise – översikt: https://developers.google.com/android/work

Samba (SMB på Linux) – docs: https://www.samba.org/samba/docs/

### 

### ✍️ Egna anteckningar

…



# 3. N√§tverksadministration

## 3.7 MDM och klienthantering

### 3.7.1 Vad √§r MDM ‚Äì och varf√∂r spelar det roll?

MDM (Mobile/Modern Device Management) √§r id√©n att styra klienternas beteende och s√§kerhet centralt, oavsett var de befinner sig. D√§r AD + GPO utg√•r fr√•n att datorn befinner sig ‚Äúp√• plats‚Äù i dom√§nen, utg√•r MDM fr√•n att enheten kan st√• var som helst ‚Äì hemma, i klassrummet, p√• ett caf√© ‚Äì och √§nd√• f√• r√§tt policy, r√§tt appar och r√§tt n√§tprofiler √∂ver internet. Tekniskt sker detta via en push-kanal (Apple/Google/Microsofts notistj√§nster) som v√§cker klienten och s√§ger ‚Äúh√§mta din n√§sta policy‚Äù, medan en MDM-agent eller inbyggt st√∂d i OS ser till att inst√§llningarna faktiskt s√§tts.

Det viktiga f√∂r administrat√∂rer att f√∂rst√• √§r skillnaden i filosofi: MDM modellerar datorn som ett hanterat objekt med m√§tbara tillst√•nd (kryptering? brandv√§gg? l√•ssk√§rm?) och efterlevnad (compliance). Uppfyller enheten kraven f√•r den tillg√•ng (t.ex. till e-post eller l√§rarportaler); annars blockeras eller begr√§nsas den tills kraven √§r uppfyllda. P√• s√• s√§tt blir s√§kerhet en egenskap av klientens tillst√•nd, inte bara av vilket n√§t man sitter p√•.

F√∂rtydligande (sammanfattning):

- MDM ‚Üí internetf√∂rst: funkar oavsett plats och VLAN.
- Policy som tillst√•nd: ‚Äú√§r BitLocker/FileVault p√•?‚Äù, ‚Äú√§r OS uppdaterat?‚Äù.
- Efterlevnad ‚Üí √•tkomst: klarar du kraven f√•r du tj√§nsten (annars inte).

MDM ‚Üí internetf√∂rst: funkar oavsett plats och VLAN.

Policy som tillst√•nd: ‚Äú√§r BitLocker/FileVault p√•?‚Äù, ‚Äú√§r OS uppdaterat?‚Äù.

Efterlevnad ‚Üí √•tkomst: klarar du kraven f√•r du tj√§nsten (annars inte).

Exempel: En l√§rardator som √§r helkrypterad, har sk√§rml√•s och aktuell patchniv√• f√•r automatiskt full √•tkomst till skolans e-post och molnlagring. En dator som halkat efter f√•r bara l√§sa kursplaner tills den har uppdaterats.

### 3.7.2 Ekosystemet: Intune, Jamf ‚Äì och √∂ppna alternativ

I Windowsv√§rlden √§r Microsoft Intune den vanligaste MDM-plattformen. Den talar alla de spr√•k Windows beh√∂ver (Windows-MDM-CSP, Autopilot, Entra-ID-integration) och hanterar √§ven iOS/iPadOS/macOS och Android i samma verktyg, vilket √§r praktiskt i skola. P√• Apple-sidan √§r Jamf branschstandard f√∂r djup styrning av macOS och iOS/iPadOS ‚Äì s√§rskilt n√§r man vill in i Apples ‚Äúalla detaljer‚Äù (Configuration Profiles, appdistribution, ‚Äúsupervised‚Äù l√§ge, kontrollerad √•terst√§llning). F√∂r Android √§r Android Enterprise sj√§lva modellen: ‚ÄúWork profile‚Äù f√∂r BYOD och ‚ÄúFully managed‚Äù f√∂r skol√§gda enheter, ofta orkestrerat via Intune eller en Android-fokuserad MDM.

Det finns √∂ppna och √∂ppet licensierade alternativ, men de √§r oftast mer plattformsspecifika och kr√§ver mer hands-on: t.ex. MicroMDM f√∂r macOS (ren Apple-MDM), eller Android-fokuserade community-varianter. De kan vara utm√§rkta i labb eller nischade behov, men ers√§tter s√§llan en heterogen skolmilj√∂s krav p√• rapporter, efterlevnad och integrationer (identitet, appar, certifikat).

F√∂rtydligande (sammanfattning):

- Intune: bred t√§ckning (Win/macOS/iOS/Android), bra p√• Windows-livscykel.
- Jamf: djup Apple-styrning och Apple-fl√∂den (ADE, VPP).
- Android Enterprise: Work profile (BYOD), Fully managed (skol√§gda).
- √ñppna projekt: l√§rorika och vassa, men oftare smalare.

Intune: bred t√§ckning (Win/macOS/iOS/Android), bra p√• Windows-livscykel.

Jamf: djup Apple-styrning och Apple-fl√∂den (ADE, VPP).

Android Enterprise: Work profile (BYOD), Fully managed (skol√§gda).

√ñppna projekt: l√§rorika och vassa, men oftare smalare.

Exempel: En kommun k√∂r Intune f√∂r Windows-parken och l√•ter Jamf sk√∂ta Mac-datorer i estetiska programmet. B√•da plattformarna rapporterar efterlevnad till samma identitetstj√§nst, s√• √•tkomstregler blir konsekventa.

### 3.7.3 Centralt styrda policyer och s√§kerhetsinst√§llningar

MDM uttrycker s√§kerhet som m√§tbara regler. Ist√§llet f√∂r ‚Äúhar vi rullat ut brandv√§ggen?‚Äù fr√•gar du ‚Äú√§r brandv√§ggen p√• och blockerar den inkommande trafik?‚Äù. D√§rifr√•n f√∂ljer ett antal byggstenar som √•terkommer oavsett OS:

- Enhetskonfiguration: sk√§rml√•s, l√∂senordspolicy, brandv√§gg, kryptering (BitLocker/FileVault), USB-policy, WLAN-profiler (SSID, 802.1X-certifikat), VPN-profiler, webbfiltret.
- Efterlevnad (compliance): minsta OS-version, kryptering p√•, ingen jailbreak/root, aktiva skydd.
- Apphantering: paketera, distribuera, uppdatera och ‚Äì vid behov ‚Äì ta bort appar; i Applev√§rlden via VPP (licenser) och i Android via Managed Google Play.
- Villkorad √•tkomst (Conditional Access): l√•t identiteten kontrollera tj√§nsten baserat p√• enhetens status.
- Certifikatlivscykel: utf√§rda, f√∂rnya och dra tillbaka klient-certifikat f√∂r 802.1X, VPN och appar.

Enhetskonfiguration: sk√§rml√•s, l√∂senordspolicy, brandv√§gg, kryptering (BitLocker/FileVault), USB-policy, WLAN-profiler (SSID, 802.1X-certifikat), VPN-profiler, webbfiltret.

Efterlevnad (compliance): minsta OS-version, kryptering p√•, ingen jailbreak/root, aktiva skydd.

Apphantering: paketera, distribuera, uppdatera och ‚Äì vid behov ‚Äì ta bort appar; i Applev√§rlden via VPP (licenser) och i Android via Managed Google Play.

Villkorad √•tkomst (Conditional Access): l√•t identiteten kontrollera tj√§nsten baserat p√• enhetens status.

Certifikatlivscykel: utf√§rda, f√∂rnya och dra tillbaka klient-certifikat f√∂r 802.1X, VPN och appar.

Det h√§r l√•ter stort, men effekten i vardagen √§r just enkelhet: du beh√∂ver inte l√§ngre fr√•ga ‚Äúvar st√•r datorn?‚Äù, utan ‚Äúuppfyller den kraven?‚Äù.

Exempel: En elevdator ansluter till skolans WLAN utan att n√•gon r√∂r en knapp: MDM har redan lagt WLAN-profilen med 802.1X-certifikatet, och brandv√§ggen vet att bara skolans resolvers f√•r svara p√• DNS.

### 3.7.4 Provisionering och livscykel: fr√•n kartong till √•terbruk

Det moderna idealet √§r zero-touch: att en ny enhet kan √∂ppnas av anv√§ndaren och ‚Äúhitta hem‚Äù utan att IT-personal r√∂r den. F√∂r Windows kallas detta Autopilot, f√∂r Apple Automated Device Enrollment (ADE) via Apple School/Business Manager, och f√∂r Android Zero-touch (eller QR/NFC-inrullning). Po√§ngen √§r inte magi, utan kedjan: enheten k√§nner igen sig som skol√§gd, ansluter till MDM, f√•r policyer, appar, profiler ‚Äì och presenterar login p√• r√§tt s√§tt. Lika viktigt √§r offboarding: att kunna √•tertaga licenser, rensa data (helt eller selektivt vid BYOD), och √•teranv√§nda enheten till n√§sta elev.

F√∂rtydligande (sammanfattning):

- √Ñgda enheter: full styrning, full wipe; kan l√•sas till skolans √§garskap.
- BYOD: selektiv rensning (ta bort skoldata, l√§mna privatdata).
- Livscykel: inrullning ‚Üí drift/uppdatering ‚Üí support ‚Üí √•terl√§mning/√•terbruk.

√Ñgda enheter: full styrning, full wipe; kan l√•sas till skolans √§garskap.

BYOD: selektiv rensning (ta bort skoldata, l√§mna privatdata).

Livscykel: inrullning ‚Üí drift/uppdatering ‚Üí support ‚Üí √•terl√§mning/√•terbruk.

Exempel: √Örskurs 1 f√•r nya laptops. Autopilot visar skolans v√§lkomstbild, kopplar upp mot MDM, l√§gger in WLAN-profil och Office-appar ‚Äì lektionen kan b√∂rja direkt utan imaging eller manuell patchning.

### 3.7.5 Mobilitet, BYOD och externa enheter

BYOD (‚Äúta med egen enhet‚Äù) och externa minnen (USB, mobil lagring) r√∂r inte bara teknik, utan juridik och f√∂rtroende. Bra MDM-uppl√§gg h√•ller is√§r personlig integritet och skolans data. P√• Android inneb√§r det Work profile: skolans appar och data bor i en skyddad ‚Äúbubbla‚Äù som IT kan styra, medan privatdelen f√∂rblir privat. P√• iOS/iPadOS finns User Enrollment f√∂r liknande separation, och p√• macOS kan policyer riktas utan att ge IT ‚Äúinsyn‚Äù i allt. F√∂r USB √§r po√§ngen inte f√∂rbud i sig, utan riskreducering: vissa roller kanske beh√∂ver fullt st√∂d (t.ex. media-elever), andra bara l√§sning eller helt avst√§ngt.

F√∂rtydligande (sammanfattning):

- BYOD: separera skoldata fr√•n privatdata; var tydlig med vad som loggas.
- USB och externa enheter: differentiera per program/roll; logga beslut.
- Rese-scenarier: n√§tprofiler/VPN g√∂r att ‚Äúskolan‚Äù f√∂ljer med √§ven utanf√∂r skolans v√§ggar.

BYOD: separera skoldata fr√•n privatdata; var tydlig med vad som loggas.

USB och externa enheter: differentiera per program/roll; logga beslut.

Rese-scenarier: n√§tprofiler/VPN g√∂r att ‚Äúskolan‚Äù f√∂ljer med √§ven utanf√∂r skolans v√§ggar.

Exempel: En vikarie loggar in p√• sin privata iPad och f√•r bara access till l√§rarportalen via en skyddad container. N√§r uppdraget √§r slut kan skolan rensa container-delen utan att r√∂ra privata bilder och appar.

### 3.7.6 Varf√∂r Windows Server ofta √§r navet ‚Äì och var Linux gl√§nser

I m√•nga svenska milj√∂er inom offentlig sektor och utbildning fungerar Windows Server med Active Directory (AD DS) som ett nav f√∂r identitet, policy och infrastruktur. Det beror b√•de p√• klientflottans sammans√§ttning (ofta Windows) och p√• att AD samlar autentisering (Kerberos/NTLM), grupp- och r√§ttighetsmodeller, DNS/DHCP och gruppolicy (GPO) i en sammanh√§ngande helhet. Alltifr√•n skrivare och filresurser till inloggningsupplevelse kan d√§rf√∂r kopplas till samma identitetsk√§lla. Under senare √•r har m√•nga organisationer g√•tt mot hybrida uppl√§gg d√§r ett lokalt AD samverkar med molnidentitet och MDM (t.ex. Entra ID/Intune), s√• att traditionella GPO:er och moderna, internetf√∂rsta policyer kan samexistera.

Linuxservrar fyller samtidigt en stark och bred tj√§nsteroll. De anv√§nds ofta f√∂r filer och utskrifter (Samba/CUPS), webb och applikationer (NGINX/Apache, applikationsramverk), infrastrukturtj√§nster (reverse proxy, cache/proxy, databaser, RADIUS, syslog), automatisering (t.ex. Ansible) och containrar (Docker/Kubernetes). Linux kan √§ven b√§ra identitetstj√§nster (t.ex. Samba-AD-DC eller FreeIPA/IdM) n√§r arkitekturen kr√§ver det, men d√§r Windows-klienter dominerar √§r AD ofta fortsatt den prim√§ra identitetsk√§llan, medan Linux fungerar som stabila tj√§nstenoder runt navet. Valet handlar mindre om ‚Äúb√§st i test‚Äù och mer om arkitektur: AD d√§r sammanh√•llen klientidentitet och policystyrning √§r centralt; Linux d√§r √∂ppna, skalbara servertj√§nster och plattformar beh√∂vs ‚Äì med interoperabilitet via LDAP/Kerberos/SMB som g√∂r att helheten sitter ihop.

Exempel: Ett verksamhetsn√§t anv√§nder AD f√∂r konton, grupper, DNS/DHCP och skrivare. Runtom levererar Linux en filresurs f√∂r elevmaterial, en webbtj√§nst f√∂r schema och en containerplattform f√∂r interna appar. Klienterna hanteras med MDM s√• att policy och √•tkomst √§r konsekvent √§ven utanf√∂r kontoret.


### 3.7.7 Vanliga arketyper i organisationer

I praktiken framtr√§der n√•gra √•terkommande m√∂nster f√∂r hur klienter och tj√§nster hanteras. De skiljer sig fr√§mst i var identiteten bor, hur policy distribueras och var data/appar levereras.

Klassisk on-prem
Identitet och policy ligger i lokalt AD med GPO f√∂r Windows-klienter; Configuration Manager eller likv√§rdigt anv√§nds f√∂r paket och imaging; Jamf anv√§nds ofta f√∂r macOS/iPadOS; fil- och utskriftstj√§nster k√∂rs lokalt. F√∂rdelen √§r f√∂ruts√§gbarhet och l√•g latens p√• plats. Nackdelen √§r ett starkt beroende av skolans n√§t och schemalagda uppkopplingar.

Hybrid
Ett lokalt AD samverkar med molnidentitet och MDM (t.ex. Entra ID/Intune f√∂r Windows, Jamf f√∂r Apple). GPO hanterar milj√∂er som m√•r bra av platsn√§ra styrning (t.ex. datasalar), medan b√§rbara enheter och plattor f√∂ljer internetf√∂rst-policy via MDM. Filresurser r√∂r sig delvis mot moln, och √•tkomst styrs villkorat utifr√•n enhetens efterlevnad. F√∂rdelen √§r att b√•de platsn√§ra och r√∂rliga behov f√•r st√∂d. Nackdelen √§r √∂kad komplexitet i gr√§nssnittet mellan system.

Cloud-first
Identitet och policy lever prim√§rt i molnet; Intune hanterar Windows, Jamf/Android Enterprise anv√§nds d√§r det passar; lokalt AD minimeras eller avvecklas; applikationer och filer levereras som molntj√§nster. F√∂rdelen √§r att hanteringen i h√∂g grad blir oberoende av plats och VLAN. Nackdelen √§r beroendet av externa tj√§nster och behovet av v√§l definierade processer f√∂r efterlevnad och dataskydd.

Exempel: I en kommun med flera skolor drivs salar med platsn√§ra policy via GPO f√∂r stabil uppstart och l√•g latens, medan l√§rarb√§rbara och plattor f√∂ljer MDM-policy √∂ver internet. Identiteten √§r gemensam, men styrningen sker via tv√• kompletterande sp√•r.

### 3.7.8 Vanliga fallgropar och h√•llbara tumregler

De problem som uppst√•r i MDM-milj√∂er beror oftare p√• otydliga m√•lbilder √§n p√• teknikfel. Om √∂nskat enhetstillst√•nd inte √§r definierat blir policyer mots√§gelsefulla. Om efterlevnadskriterier √§r vaga blir √•tkomstregler sv√•rf√∂ruts√§gbara. Och om insyn och loggning inte kommuniceras tydligt riskerar f√∂rtroendet att urholkas. Stabilitet uppn√•s n√§r grundkraven √§r m√§tbara, n√§r skol√§gda och privata enheter hanteras separat och n√§r n√§tanslutning g√∂rs friktionsfri genom f√∂rkonfigurerade profiler.

F√∂rtydligande (sammanfattning):

- M√§tbara grundkrav: kryptering, patchniv√•, sk√§rml√•s, brandv√§gg.
- Tydlig segmentering: skol√§gda enheter vs BYOD med olika policy och rensningsr√§ttigheter.
- F√∂rkonfigurerad anslutning: WLAN-/VPN-profiler och certifikatlivscykel som del av MDM.
- Transparens: vad som samlas in/loggas, varf√∂r det g√∂rs och vad som uttryckligen inte √∂vervakas.

M√§tbara grundkrav: kryptering, patchniv√•, sk√§rml√•s, brandv√§gg.

Tydlig segmentering: skol√§gda enheter vs BYOD med olika policy och rensningsr√§ttigheter.

F√∂rkonfigurerad anslutning: WLAN-/VPN-profiler och certifikatlivscykel som del av MDM.

Transparens: vad som samlas in/loggas, varf√∂r det g√∂rs och vad som uttryckligen inte √∂vervakas.

Exempel: Inf√∂randet av BYOD m√∂ter initial skepsis. N√§r informationen f√∂rtydligar att MDM endast hanterar arbetsprofilens appar, OS-version och krypteringsstatus‚Äîoch inte privata foton, SMS eller webbhistorik‚Äî√∂kar acceptansen och support√§renden minskar.


### 

### üìå Kontrollfr√•gor

- Vad √§r den konceptuella skillnaden mellan GPO och MDM?
- Hur oms√§tter MDM ‚Äús√§kerhet‚Äù till m√§tbara tillst√•nd, och varf√∂r √§r det viktigt f√∂r √•tkomst?
- N√§r passar Intune b√§st, n√§r passar Jamf b√§st, och vad vinner du p√• att kombinera dem?
- Vad inneb√§r Android Work Profile j√§mf√∂rt med Fully Managed, och hur p√•verkar det BYOD?
- Vilka fem saker vill du n√§stan alltid ha som MDM-policy p√• skol√§gda datorer?
- Hur fungerar zero-touch i Windows/Apple/Android i stora drag, och varf√∂r f√∂renklar det support?
- Vad menas med selektiv wipe och n√§r √§r det avg√∂rande?
- Varf√∂r √§r certifikatlivscykel central i WLAN/VPN-profiler, och hur hj√§lper MDM?
- I vilken roll √§r Windows Server/AD oftast navet, och n√§r lyfter du hellre in Linuxservrar?
- Beskriv en typisk hybrid-arkitektur i skola och hur MDM knyter ihop den.

Vad √§r den konceptuella skillnaden mellan GPO och MDM?

Hur oms√§tter MDM ‚Äús√§kerhet‚Äù till m√§tbara tillst√•nd, och varf√∂r √§r det viktigt f√∂r √•tkomst?

N√§r passar Intune b√§st, n√§r passar Jamf b√§st, och vad vinner du p√• att kombinera dem?

Vad inneb√§r Android Work Profile j√§mf√∂rt med Fully Managed, och hur p√•verkar det BYOD?

Vilka fem saker vill du n√§stan alltid ha som MDM-policy p√• skol√§gda datorer?

Hur fungerar zero-touch i Windows/Apple/Android i stora drag, och varf√∂r f√∂renklar det support?

Vad menas med selektiv wipe och n√§r √§r det avg√∂rande?

Varf√∂r √§r certifikatlivscykel central i WLAN/VPN-profiler, och hur hj√§lper MDM?

I vilken roll √§r Windows Server/AD oftast navet, och n√§r lyfter du hellre in Linuxservrar?

Beskriv en typisk hybrid-arkitektur i skola och hur MDM knyter ihop den.

### 

### üîó F√∂rdjupningsl√§nkar

- Microsoft Intune ‚Äì √∂versikter och scenarier: https://learn.microsoft.com/mem/intune/
- Windows Autopilot ‚Äì koncept: https://learn.microsoft.com/windows/deployment/windows-autopilot/
- Conditional Access & device compliance: https://learn.microsoft.com/entra/identity/conditional-access/
- Jamf Pro ‚Äì dokumentation: https://docs.jamf.com/
- Apple School/Business Manager & Automated Device Enrollment: https://support.apple.com/guide/apple-business-manager/welcome/web
- Managed Apple IDs och User Enrollment: https://support.apple.com/guide/apple-business-manager/intro-to-user-enrollment/web
- Android Enterprise ‚Äì √∂versikt: https://developers.google.com/android/work
- Samba (SMB p√• Linux) ‚Äì docs: https://www.samba.org/samba/docs/

Microsoft Intune ‚Äì √∂versikter och scenarier: https://learn.microsoft.com/mem/intune/

Windows Autopilot ‚Äì koncept: https://learn.microsoft.com/windows/deployment/windows-autopilot/

Conditional Access & device compliance: https://learn.microsoft.com/entra/identity/conditional-access/

Jamf Pro ‚Äì dokumentation: https://docs.jamf.com/

Apple School/Business Manager & Automated Device Enrollment: https://support.apple.com/guide/apple-business-manager/welcome/web

Managed Apple IDs och User Enrollment: https://support.apple.com/guide/apple-business-manager/intro-to-user-enrollment/web

Android Enterprise ‚Äì √∂versikt: https://developers.google.com/android/work

Samba (SMB p√• Linux) ‚Äì docs: https://www.samba.org/samba/docs/

### 

### ‚úçÔ∏è Egna anteckningar

‚Ä¶



# 3. Nätverksadministration

## 3.3 Dokumentation, etikett, felsökning

### 3.3.1 Varför dokumentation?

Dokumentation gör nätet förutsägbart, överlämningsbart och felsökningsbart. Utan uppdaterade kartor, IP-/VLAN-planer, portlistor och ändringsloggar blir varje fel en gissningslek och varje uppgradering en chansning. Bra dokumentation sänker MTTR (Mean Time To Repair), minskar dubbelarbete och gör att nya i teamet snabbt blir produktiva. Den skapar också spårbarhet – du kan visa vad som ändrades, när och varför, vilket är ovärderligt vid incidenter och revisioner.

Exempel: En skrivare slutar fungera efter ett switchbyte. Tack vare aktuell portmatris ser du direkt att skrivaren satt i VLAN 20 men nya porten är default VLAN 1. En rad ändring, klart.

### 3.3.2 Vad ska dokumenteras?

Minsta gemensamma nämnare är: topologidiagram, IP-/VLAN-plan, enhetsinventarie, konfigbackup, portmatriser, brandväggspolicys och ändringslogg. Lägg till runbooks (steg-för-steg för vanliga åtgärder) och driftjournal (vad som hände, när, varför). Tänk “en sanning”: en central plats där allt hålls uppdaterat, med tydlig ägare per dokument och versionsmärkning så att historiken går att följa.

Förtydligande (sammanfattning):

- Topologi: core/distribution/access, uplinks, trunkar, redundans.
- IP/VLAN: prefix, gateways, DHCP-scopes, DNS/NTP.
- Enheter: modell, serienummer, plats, management-IP, version.
- Portmatris: vägguttag ↔ patchpanel ↔ switchport ↔ VLAN.
- Policys: översikt över tillåtna flöden mellan zoner.
- Ändringslogg: datum, syfte, risk, utförare, rollback, resultat.

Topologi: core/distribution/access, uplinks, trunkar, redundans.

IP/VLAN: prefix, gateways, DHCP-scopes, DNS/NTP.

Enheter: modell, serienummer, plats, management-IP, version.

Portmatris: vägguttag ↔ patchpanel ↔ switchport ↔ VLAN.

Policys: översikt över tillåtna flöden mellan zoner.

Ändringslogg: datum, syfte, risk, utförare, rollback, resultat.

Exempel: En enkel runbook “Lägga till nytt VLAN” innehåller: skapa VLAN, SVI + DHCP-scope, tillåta på relevanta trunkar, uppdatera brandvägg, dokumentera i IP-plan och portmatris, validera med testklient.

### 3.3.3 Namnstandard, märkning och port-etikett

Konsekventa namn gör att du “läser” nätet som en karta. Namnge enheter med plats–roll–löpnummer (t.ex. HUS1-DIST-A, HUS1-ACC-03). Märk vägguttag, patchpanel, switchport och fiber på båda sidor. Etikett i nätet handlar också om hur du lämnar efter dig: återställ patchning, ta bort tillfälliga labbgrejer, och spara konfig. En tydlig namngivning sparar tid i alla led – från beställning och felsökning till städning efter projekt.

Förtydligande (sammanfattning):

- Namn: kort, meningsfullt, konsekvent.
- Portdisciplin: dokumentera innan du drar om; inga “dolda” hopkopplingar.
- Märkning: tydliga etiketter + matchande i dokumentationen.

Namn: kort, meningsfullt, konsekvent.

Portdisciplin: dokumentera innan du drar om; inga “dolda” hopkopplingar.

Märkning: tydliga etiketter + matchande i dokumentationen.

Exempel: Port A3 i HUS2-ACC-04 märks “Klassrum 214 – skrivare” och loggas i portmatrisen. Vid fel ser du portens VLAN på två sekunder.

### 3.3.4 Ärenden och kommunikation – etikett i drift

Felsökning sker inte i vakuum. Ha en ärendeprocess: ta emot felanmälan, bekräfta mottagning, sätt prioritet, återkoppla vid milstolpar och stäng ärendet med kort RCA (root cause analysis). Var transparent: skriv vad du mätt och ändrat. Var blameless i analys – fokusera på system och process, inte personer. God kommunikation reducerar frustration, skapar förtroende och gör att alla vet vad som händer – även när lösningen dröjer.

Förtydligande (sammanfattning):

- Prioritet: påverkan + brådska → P1–P4.
- Status: uppdatera när något ändras – även “vi undersöker” hjälper.
- RCA light: orsak, åtgärd, hur vi undviker återkomst.

Prioritet: påverkan + brådska → P1–P4.

Status: uppdatera när något ändras – även “vi undersöker” hjälper.

RCA light: orsak, åtgärd, hur vi undviker återkomst.

Exempel: “P2: Elevnät i B-huset påverkat. Åtgärd: trunk bar inte VLAN 20. Fix: tillåta VLAN 20 på uplink. Förebygg: mall för trunkar + checklista vid switchbyte.”

### 3.3.5 Change management – planera, testa, backa

Ändringar ska vara förutsägbara. Använd underhållsfönster, skriv en kort risk- och effektbedömning, och ha en rollback-plan. Testa i labb eller på en pilot först. Efter ändringen: mät och dokumentera utfallet. En enkel checklista minskar risken för “små missar” som ger stora effekter, och gör att samma kvalitet kan upprepas gång på gång.

Förtydligande (sammanfattning):

- Plan: syfte, omfattning, risk, testplan, rollback.
- Tid: skoltid vs icke-skoltid – minimera påverkan.
- Efterkontroll: mät latens/throughput, kontrollera loggar/alarms.

Plan: syfte, omfattning, risk, testplan, rollback.

Tid: skoltid vs icke-skoltid – minimera påverkan.

Efterkontroll: mät latens/throughput, kontrollera loggar/alarms.

Exempel: Firmware på distributionsswitchar: pilot i HUS3, sedan rullas samma version ut övriga hus med samma checklista och rollback.

### 3.3.6 Felsökningsmetodik – från symptom till rotorsak

Börja med scope (en enhet eller många? ett VLAN eller alla?), definiera symptom och förväntat beteende, och jobba lager för lager (se 3.1 och 3.2). Verifiera med mätbara tester i varje steg och ändra inte flera saker samtidigt. Skriv ned vad du testade och vad resultatet blev – det blir dokumentation i realtid och hjälper nästa person som tar över ärendet.

Förtydligande (sammanfattning):

- Scope → Hypotes → Test → Resultat → Nästa steg.
- Isolera: byt variabel (kabel, port, VLAN) en i taget.
- Bevis: spara kommandon/utdata i ärendet.

Scope → Hypotes → Test → Resultat → Nästa steg.

Isolera: byt variabel (kabel, port, VLAN) en i taget.

Bevis: spara kommandon/utdata i ärendet.

Exempel: “Ingen IP i sal 215.” Test: show int OK, port i VLAN 20 OK, men klienter får APIPA. show ip dhcp snooping visar block – uplink ej trusted. Åtgärd: trust uplink, verifiera ipconfig /renew.

### 3.3.7 Säkerhetsetikett i vardagen

På delade nät (skola!) gäller “gör ingen skada”. Starta inte egna DHCP/DNS på klientnät, scanna inte nät blint, och kör inte osignerade verktyg på produktionsservrar. Paketfångst kan innehålla känsliga data – minimera, filtrera, radera. Admin-gränssnitt nås via jump host/bastion i management-VLAN, inte direkt från klientnät. (En jump host/bastion är en hårt härdad mellanserver i ett separat, säkert nät; du loggar in där först och därifrån når du management-IP — ingen direktadministration från användarnätet.) Etiketten handlar också om att lämna spår: skriv vad du gjorde och varför, så att nästa person kan förstå förändringen.

Förtydligande (sammanfattning):

- Rogue-tjänster: förbjudet på elev-/personalnät.
- Fångst: minst möjligt, lagra säkert, rensa efteråt.
- Åtkomst: VPN/jump host, MFA, minst behörighet.

Rogue-tjänster: förbjudet på elev-/personalnät.

Fångst: minst möjligt, lagra säkert, rensa efteråt.

Åtkomst: VPN/jump host, MFA, minst behörighet.

Exempel: Ett “mystiskt” DHCP-scope dök upp. Med DHCP Snooping spårar du källporten och hittar en elevs hemmarouter – porten stängs och incidenten loggas.

### 3.3.8 Mallar och checklistor

Standardisera vanliga jobb med mallar (VLAN-skapande, SSID-sättning, ny switch i access, nytt subnät, ny server-VM). Lägg checklistor i samma dokumentkällor som konfigmallarna så att de hålls uppdaterade samtidigt. När checklistan samtidigt är en valideringslista (mätpunkt per steg) blir kvaliteten jämn och lätt att revidera.

Förtydligande (sammanfattning):

- En källa: wiki/git för mallar + checklistor.
- Versioner: märk med datum/version och ägare.
- “Definition of done”: vad ska vara sant när du är klar (mät/validera).

En källa: wiki/git för mallar + checklistor.

Versioner: märk med datum/version och ägare.

“Definition of done”: vad ska vara sant när du är klar (mät/validera).

Exempel: Checklistan “Ny accesswitch” inkluderar: namn, mgmt-IP, NTP/syslog, SSH/AAA, portprofiler, trunk-VLAN, STP-root-prioritet, dokumentation, validering.

### 3.3.9 Mätetal för driftkvalitet

Välj enkla SLO:er (service-nivåmål) som går att mäta: uptime per zon, latens mellan hus, WLAN-airtime vid toppar, DHCP-svarstid, DNS-hit-rate, antal P1-incidenter per termin och genomsnittlig MTTR. Visualisera i en dashboard så att trender upptäcks tidigt och att förbättringar kan följas upp med fakta – inte magkänsla.

Förtydligande (sammanfattning):

- Få, relevanta tal: hellre 5 som används än 30 som ignoreras.
- Visualisera: dashboard – grönt/gult/rött.
- Lärdomar: varje P1 → en förbättring i design, process eller dokumentation.

Få, relevanta tal: hellre 5 som används än 30 som ignoreras.

Visualisera: dashboard – grönt/gult/rött.

Lärdomar: varje P1 → en förbättring i design, process eller dokumentation.

Exempel: Efter återkommande P2 p.g.a. “saknar IP” införs krav: DHCP-relay + Snooping-kontroll i checklista och auto-test i övervakning.

### 3.3.10 Ett mini-bibliotek (vad och var)

Ha en enkelsida som länkar till allt: topologi, IP/VLAN, portmatriser, policies, runbooks, mallar, ändringslogg och kontaktlista. Då vet alla var man börjar – även när det brinner. En “start-här”-yta minskar startsträcka för nya i teamet och sparar tid i akuta lägen.

En bra startsida är värd sin vikt i guld under incidenter.

### 

### 📌 Kontrollfrågor

- Nämn tre konkreta sätt som dokumentation sänker MTTR.
- Vad ska minst ingå i en uppdaterad IP-/VLAN-plan och varför?
- Ge ett exempel på en bra namngivningskonvention för nätverksenheter.
- Hur definierar du prioritet (P1–P4) i ärendehantering och varför är det viktigt?
- Vad bör en change-plan innehålla utöver själva åtgärden?
- Beskriv en lager-för-lager-metod för att hitta rotorsaken till “ingen IP i sal 215”.
- Vilka etiska regler bör gälla för paketfångst i skolmiljö och varför?
- Varför bör admin-åtkomst gå via jump host/bastion i management-VLAN?
- Ge tre mätetal (SLO:er) som ger tidig varning om kvalitetsproblem i nätet.
- Vad ska finnas på en “start-här”-sida för nätverksdrift?

Nämn tre konkreta sätt som dokumentation sänker MTTR.

Vad ska minst ingå i en uppdaterad IP-/VLAN-plan och varför?

Ge ett exempel på en bra namngivningskonvention för nätverksenheter.

Hur definierar du prioritet (P1–P4) i ärendehantering och varför är det viktigt?

Vad bör en change-plan innehålla utöver själva åtgärden?

Beskriv en lager-för-lager-metod för att hitta rotorsaken till “ingen IP i sal 215”.

Vilka etiska regler bör gälla för paketfångst i skolmiljö och varför?

Varför bör admin-åtkomst gå via jump host/bastion i management-VLAN?

Ge tre mätetal (SLO:er) som ger tidig varning om kvalitetsproblem i nätet.

Vad ska finnas på en “start-här”-sida för nätverksdrift?

### 

### 🔗 Fördjupningslänkar

- Google SRE – Incident Management & Postmortems: https://sre.google/sre-book/table-of-contents/
- NIST SP 800-61 r2 – Computer Security Incident Handling Guide: https://csrc.nist.gov/publications/detail/sp/800-61/rev-2/final
- Cisco – Network Troubleshooting Best Practices (översiktssidor): https://www.cisco.com/c/en/us/support/docs.html
- NetBox (IPAM/DCIM) – dokumentation & inventarie: https://docs.netbox.dev/
- diagrams.net (draw.io) – topologidiagram: https://www.diagrams.net/
- Grafana – dashboards & larm: https://grafana.com/docs/
- Wireshark – User Guide: https://www.wireshark.org/docs/wsug_html_chunked/
- The Practice of System and Network Administration (bokresurser): https://www.sage.org/ (resurser/vidare läsning)

Google SRE – Incident Management & Postmortems: https://sre.google/sre-book/table-of-contents/

NIST SP 800-61 r2 – Computer Security Incident Handling Guide: https://csrc.nist.gov/publications/detail/sp/800-61/rev-2/final

Cisco – Network Troubleshooting Best Practices (översiktssidor): https://www.cisco.com/c/en/us/support/docs.html

NetBox (IPAM/DCIM) – dokumentation & inventarie: https://docs.netbox.dev/

diagrams.net (draw.io) – topologidiagram: https://www.diagrams.net/

Grafana – dashboards & larm: https://grafana.com/docs/

Wireshark – User Guide: https://www.wireshark.org/docs/wsug_html_chunked/

The Practice of System and Network Administration (bokresurser): https://www.sage.org/ (resurser/vidare läsning)

### ✍️ Egna anteckningar

…



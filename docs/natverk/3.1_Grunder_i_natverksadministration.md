---
title: "3.1 Grunder i nätverksadministration"
parent: "Nätverk"
nav_order: 301
---

# 3.1 Grunder i nätverksadministration

### 3.1.1 Syfte, roller och arbetssätt
Nätverksadministration handlar om att planera, drifta, övervaka och förbättra nätet så att användare, servrar och tjänster får den tillgänglighet, prestanda och säkerhet som krävs. Arbetet spänner från fysisk infrastruktur (kablar, switchar, brandväggar) till logiska lagret (VLAN, routing, DNS/DHCP, autentisering) och vidare till processer (dokumentation, ändringshantering, incidentrutiner). Även i en liten miljö underlättar det att tänka i roller – den som designar, den som driver, den som godkänner förändringar – även om samma person ibland gör allt.
Förtydligande (sammanfattning):
- Mål: tillgänglighet, prestanda, säkerhet och spårbarhet.
- Omfång: fysisk infrastruktur + logiska tjänster + processer.
- Roller: design/arkitektur, drift/övervakning, change/incident.
Mål: tillgänglighet, prestanda, säkerhet och spårbarhet.
Omfång: fysisk infrastruktur + logiska tjänster + processer.
Roller: design/arkitektur, drift/övervakning, change/incident.
Exempel: En elevdator kan inte nå intranätet. Administratören följer en standardmetodik (se 3.1.5), dokumenterar observationer och återkopplar enligt skolans incidentrutin.
### 3.1.2 Basverktyg och kommandon
Jämförelse (snabb): Cisco ”show ip interface brief” ↔ Linux ”ip -brief addr”; Cisco ”show interfaces status” ↔ Linux ”ip link show”; Cisco ”ping 8.8.8.8 source VlanX” ↔ Linux ”ping -I eth0 8.8.8.8”.
En administratör behöver behärska ett kärnbibliotek av verktyg för kontroll, mätning och felsökning – både på klient/servrar och på nätutrustning (CLI).
Klient/Server – vanliga verktyg:
- Adress/kort: ipconfig (Win), ip addr (Linux), ip link, iw (WLAN).
- Namn/DNS: nslookup, dig.
- Reachability: ping, tracert/traceroute.
- Rutter/tabeller: route print (Win), ip route (Linux).
- Portar/flöden: netstat (Win), ss (Linux).
- Paketfångst: Wireshark (GUI), tcpdump (CLI).
- Fjärr: SSH (säker fjärrterminal), RDP (fjärrskrivbord).
Adress/kort: ipconfig (Win), ip addr (Linux), ip link, iw (WLAN).
Namn/DNS: nslookup, dig.
Reachability: ping, tracert/traceroute.
Rutter/tabeller: route print (Win), ip route (Linux).
Portar/flöden: netstat (Win), ss (Linux).
Paketfångst: Wireshark (GUI), tcpdump (CLI).
Fjärr: SSH (säker fjärrterminal), RDP (fjärrskrivbord).
Nätutrustning – typiska kommandon:
- Status: show interfaces, show mac address-table, show arp.
- VLAN/routing: show vlan, show ip route, show ip ospf neighbor.
- Trådlöst: controller/AP-översikter (kanaler, SNR, klienter).
- Loggning: show logging, kontroll av syslog/Event Viewer.
Status: show interfaces, show mac address-table, show arp.
VLAN/routing: show vlan, show ip route, show ip ospf neighbor.
Trådlöst: controller/AP-översikter (kanaler, SNR, klienter).
Loggning: show logging, kontroll av syslog/Event Viewer.
Lär dig känna igen “normalvärden” (baslinje) – då ser du snabbare när något avviker.
Exempel: Du kör ping 10.40.0.50 (OK) men nslookup files.skolan.local misslyckas. Slutsats: IP-anslutning finns, problemet är DNS (3.1.4).
### 3.1.3 Standardkonfigurationer och baslinjer
Baslinje-checklista: NTP mot gemensam källa; central syslog/event; endast SSH (stäng Telnet); unika adminkonton och MFA där möjligt; separat management-VLAN och ACL; stäng DTP; aktivera storm control/Port Security; konfig-backup och versionshantering.
Starka grundinställningar gör nätet förutsägbart och säkert. Börja varje switch/brandvägg/router med en baslinje: tidskällor (NTP), loggning (syslog/Event Viewer), AAA (autentisering/auktorisering), SSH (i stället för Telnet), banners, management-VLAN, samt versionshantering av konfig.
Förtydligande (sammanfattning):
- Tid/logg: NTP till samma klocka; skicka loggar centralt.
- Åtkomst: SSH, unika adminkonton, MFA där det går.
- Management: separat VLAN/subnät + brandväggsregler.
- Konfig: “golden config”, backup och diff/historik.
Tid/logg: NTP till samma klocka; skicka loggar centralt.
Åtkomst: SSH, unika adminkonton, MFA där det går.
Management: separat VLAN/subnät + brandväggsregler.
Konfig: “golden config”, backup och diff/historik.
Exempel: Alla switchar har NTP = 10.40.0.12, syslog till 10.40.0.14, SSH-only, management på VLAN 99 med ACL som endast släpper in admin-verktyg.
### 3.1.4 DNS, DHCP och adressering i drift
I vardagen är DNS och DHCP navet för klientupplevelsen: kan du få adress? kan du slå upp namn? Administratören sköter scopes, reservationer och relay i DHCP, samt interna zoner, split-horizon och forwarders i DNS. Dokumentera vilket VLAN som hör till vilket scope och vilka resolvers klienterna ska använda (option 6).
Förtydligande (sammanfattning):
- DHCP: rätt relay, rimlig lease-tid (gäst kort, personal längre).
- DNS: AD-integrerad intern zon, två resolvers, vettig TTL.
- Adressplan: tabell över VLAN ↔ prefix ↔ gateway ↔ scope.
DHCP: rätt relay, rimlig lease-tid (gäst kort, personal längre).
DNS: AD-integrerad intern zon, två resolvers, vettig TTL.
Adressplan: tabell över VLAN ↔ prefix ↔ gateway ↔ scope.
Exempel: Gäster klagar på “internet segt”. Mätning visar att de går mot publika resolvers direkt. Policy uppdateras: tvinga DNS till skolans resolvers och förbättra svarstid via interna forwarders.
### 3.1.5 Felsökningsmetodik (lager för lager)
En konsekvent metodik sparar timmar. Arbeta uppifrån och ner eller nerifrån och upp – men ändra inte flera saker samtidigt. Säkra fakta med mätningar/loggar.
Stegvis metod (förtydligande):
- Symptom & scope: vad fungerar/inte? en klient eller många?
- Länk och låg-nivå: lampa, duplex/hastighet, rätt VLAN på porten.
- Adress & gateway: ip addr/ipconfig, ping gateway.
- Namn & rutter: nslookup/dig, traceroute, tabeller.
- Brandvägg/policy: loggar och reglers riktning.
- Applikation: port, certifikat, autentisering.
Symptom & scope: vad fungerar/inte? en klient eller många?
Länk och låg-nivå: lampa, duplex/hastighet, rätt VLAN på porten.
Adress & gateway: ip addr/ipconfig, ping gateway.
Namn & rutter: nslookup/dig, traceroute, tabeller.
Brandvägg/policy: loggar och reglers riktning.
Applikation: port, certifikat, autentisering.
Exempel: Elev-SSID funkar i A-huset men inte i B. Kontroll visar att B-husets trunk inte bär VLAN 20 – lägg till på allowed-listan, verifiera med klient.
### 3.1.6 Övervakning och loggning
Övervakning talar om hur nätet mår; loggning talar om vad som hände. Använd SNMP/telemetri för status/larm (CPU, minne, länk, PoE, temperatur) och centrala loggar för brandväggsbeslut, inloggningar och systemhändelser. Visualisering (dashboards) och larmtrösklar gör att du kan agera proaktivt.
Förtydligande (sammanfattning):
- SNMP/telemetri: länkar, PoE, resursutnyttjande, WLAN-airtime.
- Syslog/Event: brandvägg, autentisering, kritiska fel.
- Dashboards: nyckeltal (upptid, latens, incidents).
SNMP/telemetri: länkar, PoE, resursutnyttjande, WLAN-airtime.
Syslog/Event: brandvägg, autentisering, kritiska fel.
Dashboards: nyckeltal (upptid, latens, incidents).
Exempel: Plötslig airtime-spik i ett våningsplan varje lunch – loggar visar gäst-SSID överbelastat. Åtgärd: extra AP + band steering + min-RSSI.
### 3.1.7 Patchning, ändringshantering och backup
Enkla mallar: Ärende (namn, syfte, påverkan, risk/rollback), Ändringslogg (datum, version, ansvarig, sammanfattning), Portetikettering (switch, port, VLAN, beskrivning, plats). Minimikrav för dokument: titel, datum/version, ansvarig, godkännande, revisionshistorik och referenser.
Regelbundna firmware-/säkerhetsuppdateringar minskar risker. Kör ändringshantering: planera fönster, dokumentera, ha rollback-plan och verifiera efteråt. Säkerställ automatiska konfig-backuper från all nätutrustning och versionera dem.
Förtydligande (sammanfattning):
- Patchpolicy: kritiska säkerhetsfixar prioriteras, testa i liten skala först.
- Change: vem gör vad, när, hur mäter vi effekt, hur backar vi.
- Backup: nattliga konfigdump, off-site-kopia, återläsningstester.
Patchpolicy: kritiska säkerhetsfixar prioriteras, testa i liten skala först.
Change: vem gör vad, när, hur mäter vi effekt, hur backar vi.
Backup: nattliga konfigdump, off-site-kopia, återläsningstester.
Exempel: Uppgradering av brandvägg kl 18:00. Före/efter-mätning av latens, tydlig rollback. Konfig tas backup automatiskt och diffas mot golden.
### 3.1.8 Säker administration och åtkomst
Börja säkert: lokalt adminkonto, nyckelautentisering (SSH), undvik lösenord i klartext, och ta konfigurationsbackup före och efter ändringar.
Tillämpa least privilege och separera admin-åtkomst från användartrafik. Ha unika adminkonton, MFA där det går, och en jump host/bastion (jump host/bastion är en hårt härdad mellanserver i ett separat, säkert nät; du loggar in där först och därifrån når du management-IP på utrustningen — ingen direktadministration från det vanliga användarnätet) för fjärradministration. Logga alla förändringar. Lås accessportar i lager 2 (Port Security, DHCP Snooping, DAI) och skydda STP med BPDU Guard (se 2.2).
Förtydligande (sammanfattning):
- Adminväg: VPN/jump host, management-VLAN, ACL/brandvägg.
- Identitet: unika konton, MFA, tidsbegränsade rättigheter.
- L2-skydd: hårda portar, snooping/inspection, storm control.
Adminväg: VPN/jump host, management-VLAN, ACL/brandvägg.
Identitet: unika konton, MFA, tidsbegränsade rättigheter.
L2-skydd: hårda portar, snooping/inspection, storm control.
Exempel: Admin kopplar via VPN till bastion i management-VLAN. Därifrån SSH till switchar/brandvägg. Endast bastion får nå management-IP.
### 3.1.9 Fjärråtkomst och drift på distans
Säker fjärrdrift kräver rätt verktyg och vägar. SSH används för nät/Unix, RDP för Windows. För större miljöer: central hantering av nycklar/certifikat, sessionsloggning och privileged access-rutiner. Vid internetavbrott: planera out-of-band (t.ex. LTE-modem) för kritiska platser.
Förtydligande (sammanfattning):
- Protokoll: SSH, RDP – alltid krypterat.
- Kanaler: VPN med stark auth; helst inga öppna admin-portar från internet.
- OOB: alternativ väg vid primär-länkned.
Protokoll: SSH, RDP – alltid krypterat.
Kanaler: VPN med stark auth; helst inga öppna admin-portar från internet.
OOB: alternativ väg vid primär-länkned.
Exempel: Primär fiber är nere – OOB-LTE i serverrummet ger åtkomst till brandväggen för felsökning och omläggning.
### 3.1.10 Automatisering och skriptning
Även små miljöer vinner på automatisering: återkommande kommandon blir skript; uppgifter standardiseras. PowerShell (Windows) och Bash (Linux) är utmärkta för inventering, logginsamlning, massändringar och rapporter. Använd mallar (templates) för switchkonfigar och lagra dem i versionskontroll.
Förtydligande (sammanfattning):
- Verktyg: PowerShell, Bash; på sikt konfighantering (t.ex. mallar).
- Vinster: färre manuella fel, repeterbarhet, snabbare återställning.
- Spårbarhet: versionshistorik, kodgranskning för kritiska skript.
Verktyg: PowerShell, Bash; på sikt konfighantering (t.ex. mallar).
Vinster: färre manuella fel, repeterbarhet, snabbare återställning.
Spårbarhet: versionshistorik, kodgranskning för kritiska skript.
Exempel: Ett PowerShell-skript läser domänens katalogstruktur och skapar en CSV över datorobjekt per OU (OU = Organizational Unit, en organisatorisk enhet — en grundläggande byggsten i Windows Servers domänhantering där du grupperar datorer och användare för enklare delegering och policy.); samma körning schemaläggs veckovis och postar status i loggkanalen.
### 📌 Kontrollfrågor
- Vilka mål styr nätverksadministrationens prioriteringar?
- Nämn fem verktyg/kommandon du använder i första felsökningssteget och vad de visar.
- Vad bör ingå i en standard “baslinje” på switchar/routrar/brandväggar?
- Hur hänger DNS och DHCP ihop med användarupplevelse i vardagen?
- Beskriv en lager-för-lager-metod för felsökning och ge ett exempel.
- Vilka nyckeltal och loggar vill du alltid övervaka?
- Vad innebär ändringshantering, och varför behöver du en rollback-plan?
- Hur separerar du administrativ åtkomst från användartrafik på ett säkert sätt?
- När och varför används out-of-band-åtkomst?
- Ge två praktiska uppgifter som lämpar sig för automatisering med PowerShell/Bash.
Vilka mål styr nätverksadministrationens prioriteringar?
Nämn fem verktyg/kommandon du använder i första felsökningssteget och vad de visar.
Vad bör ingå i en standard “baslinje” på switchar/routrar/brandväggar?
Hur hänger DNS och DHCP ihop med användarupplevelse i vardagen?
Beskriv en lager-för-lager-metod för felsökning och ge ett exempel.
Vilka nyckeltal och loggar vill du alltid övervaka?
Vad innebär ändringshantering, och varför behöver du en rollback-plan?
Hur separerar du administrativ åtkomst från användartrafik på ett säkert sätt?
När och varför används out-of-band-åtkomst?
Ge två praktiska uppgifter som lämpar sig för automatisering med PowerShell/Bash.
### 🔗 Fördjupningslänkar
- Microsoft Learn – PowerShell-grunder: https://learn.microsoft.com/powershell/
- Wireshark – User Guide: https://www.wireshark.org/docs/wsug_html_chunked/
- RPKI/NTP (tid & säker loggning) – NTP Project: https://www.ntp.org/documentation/
- Cisco – Network Troubleshooting Best Practices (översikter): https://www.cisco.com/c/en/us/support/docs.html
- Debian/Ubuntu – iproute2 (ip, ss, tc): https://man7.org/linux/man-pages/man8/ip.8.html
Microsoft Learn – PowerShell-grunder: https://learn.microsoft.com/powershell/
Wireshark – User Guide: https://www.wireshark.org/docs/wsug_html_chunked/
RPKI/NTP (tid & säker loggning) – NTP Project: https://www.ntp.org/documentation/
Cisco – Network Troubleshooting Best Practices (översikter): https://www.cisco.com/c/en/us/support/docs.html
Debian/Ubuntu – iproute2 (ip, ss, tc): https://man7.org/linux/man-pages/man8/ip.8.html
### ✍️ Egna anteckningar
…
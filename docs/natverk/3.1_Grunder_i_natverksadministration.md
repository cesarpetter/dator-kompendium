---
title: "3.1 Grunder i n√§tverksadministration"
parent: "N√§tverk"
nav_order: 301
---

# 3.1 Grunder i n√§tverksadministration

### 3.1.1 Syfte, roller och arbetss√§tt
N√§tverksadministration handlar om att planera, drifta, √∂vervaka och f√∂rb√§ttra n√§tet s√• att anv√§ndare, servrar och tj√§nster f√•r den tillg√§nglighet, prestanda och s√§kerhet som kr√§vs. Arbetet sp√§nner fr√•n fysisk infrastruktur (kablar, switchar, brandv√§ggar) till logiska lagret (VLAN, routing, DNS/DHCP, autentisering) och vidare till processer (dokumentation, √§ndringshantering, incidentrutiner). √Ñven i en liten milj√∂ underl√§ttar det att t√§nka i roller ‚Äì den som designar, den som driver, den som godk√§nner f√∂r√§ndringar ‚Äì √§ven om samma person ibland g√∂r allt.
F√∂rtydligande (sammanfattning):
- M√•l: tillg√§nglighet, prestanda, s√§kerhet och sp√•rbarhet.
- Omf√•ng: fysisk infrastruktur + logiska tj√§nster + processer.
- Roller: design/arkitektur, drift/√∂vervakning, change/incident.
M√•l: tillg√§nglighet, prestanda, s√§kerhet och sp√•rbarhet.
Omf√•ng: fysisk infrastruktur + logiska tj√§nster + processer.
Roller: design/arkitektur, drift/√∂vervakning, change/incident.
Exempel: En elevdator kan inte n√• intran√§tet. Administrat√∂ren f√∂ljer en standardmetodik (se 3.1.5), dokumenterar observationer och √•terkopplar enligt skolans incidentrutin.
### 3.1.2 Basverktyg och kommandon
J√§mf√∂relse (snabb): Cisco ‚Äùshow ip interface brief‚Äù ‚Üî Linux ‚Äùip -brief addr‚Äù; Cisco ‚Äùshow interfaces status‚Äù ‚Üî Linux ‚Äùip link show‚Äù; Cisco ‚Äùping 8.8.8.8 source VlanX‚Äù ‚Üî Linux ‚Äùping -I eth0 8.8.8.8‚Äù.
En administrat√∂r beh√∂ver beh√§rska ett k√§rnbibliotek av verktyg f√∂r kontroll, m√§tning och fels√∂kning ‚Äì b√•de p√• klient/servrar och p√• n√§tutrustning (CLI).
Klient/Server ‚Äì vanliga verktyg:
- Adress/kort: ipconfig (Win), ip addr (Linux), ip link, iw (WLAN).
- Namn/DNS: nslookup, dig.
- Reachability: ping, tracert/traceroute.
- Rutter/tabeller: route print (Win), ip route (Linux).
- Portar/fl√∂den: netstat (Win), ss (Linux).
- Paketf√•ngst: Wireshark (GUI), tcpdump (CLI).
- Fj√§rr: SSH (s√§ker fj√§rrterminal), RDP (fj√§rrskrivbord).
Adress/kort: ipconfig (Win), ip addr (Linux), ip link, iw (WLAN).
Namn/DNS: nslookup, dig.
Reachability: ping, tracert/traceroute.
Rutter/tabeller: route print (Win), ip route (Linux).
Portar/fl√∂den: netstat (Win), ss (Linux).
Paketf√•ngst: Wireshark (GUI), tcpdump (CLI).
Fj√§rr: SSH (s√§ker fj√§rrterminal), RDP (fj√§rrskrivbord).
N√§tutrustning ‚Äì typiska kommandon:
- Status: show interfaces, show mac address-table, show arp.
- VLAN/routing: show vlan, show ip route, show ip ospf neighbor.
- Tr√•dl√∂st: controller/AP-√∂versikter (kanaler, SNR, klienter).
- Loggning: show logging, kontroll av syslog/Event Viewer.
Status: show interfaces, show mac address-table, show arp.
VLAN/routing: show vlan, show ip route, show ip ospf neighbor.
Tr√•dl√∂st: controller/AP-√∂versikter (kanaler, SNR, klienter).
Loggning: show logging, kontroll av syslog/Event Viewer.
L√§r dig k√§nna igen ‚Äúnormalv√§rden‚Äù (baslinje) ‚Äì d√• ser du snabbare n√§r n√•got avviker.
Exempel: Du k√∂r ping 10.40.0.50 (OK) men nslookup files.skolan.local misslyckas. Slutsats: IP-anslutning finns, problemet √§r DNS (3.1.4).
### 3.1.3 Standardkonfigurationer och baslinjer
Baslinje-checklista: NTP mot gemensam k√§lla; central syslog/event; endast SSH (st√§ng Telnet); unika adminkonton och MFA d√§r m√∂jligt; separat management-VLAN och ACL; st√§ng DTP; aktivera storm control/Port Security; konfig-backup och versionshantering.
Starka grundinst√§llningar g√∂r n√§tet f√∂ruts√§gbart och s√§kert. B√∂rja varje switch/brandv√§gg/router med en baslinje: tidsk√§llor (NTP), loggning (syslog/Event Viewer), AAA (autentisering/auktorisering), SSH (i st√§llet f√∂r Telnet), banners, management-VLAN, samt versionshantering av konfig.
F√∂rtydligande (sammanfattning):
- Tid/logg: NTP till samma klocka; skicka loggar centralt.
- √Ötkomst: SSH, unika adminkonton, MFA d√§r det g√•r.
- Management: separat VLAN/subn√§t + brandv√§ggsregler.
- Konfig: ‚Äúgolden config‚Äù, backup och diff/historik.
Tid/logg: NTP till samma klocka; skicka loggar centralt.
√Ötkomst: SSH, unika adminkonton, MFA d√§r det g√•r.
Management: separat VLAN/subn√§t + brandv√§ggsregler.
Konfig: ‚Äúgolden config‚Äù, backup och diff/historik.
Exempel: Alla switchar har NTP = 10.40.0.12, syslog till 10.40.0.14, SSH-only, management p√• VLAN 99 med ACL som endast sl√§pper in admin-verktyg.
### 3.1.4 DNS, DHCP och adressering i drift
I vardagen √§r DNS och DHCP navet f√∂r klientupplevelsen: kan du f√• adress? kan du sl√• upp namn? Administrat√∂ren sk√∂ter scopes, reservationer och relay i DHCP, samt interna zoner, split-horizon och forwarders i DNS. Dokumentera vilket VLAN som h√∂r till vilket scope och vilka resolvers klienterna ska anv√§nda (option 6).
F√∂rtydligande (sammanfattning):
- DHCP: r√§tt relay, rimlig lease-tid (g√§st kort, personal l√§ngre).
- DNS: AD-integrerad intern zon, tv√• resolvers, vettig TTL.
- Adressplan: tabell √∂ver VLAN ‚Üî prefix ‚Üî gateway ‚Üî scope.
DHCP: r√§tt relay, rimlig lease-tid (g√§st kort, personal l√§ngre).
DNS: AD-integrerad intern zon, tv√• resolvers, vettig TTL.
Adressplan: tabell √∂ver VLAN ‚Üî prefix ‚Üî gateway ‚Üî scope.
Exempel: G√§ster klagar p√• ‚Äúinternet segt‚Äù. M√§tning visar att de g√•r mot publika resolvers direkt. Policy uppdateras: tvinga DNS till skolans resolvers och f√∂rb√§ttra svarstid via interna forwarders.
### 3.1.5 Fels√∂kningsmetodik (lager f√∂r lager)
En konsekvent metodik sparar timmar. Arbeta uppifr√•n och ner eller nerifr√•n och upp ‚Äì men √§ndra inte flera saker samtidigt. S√§kra fakta med m√§tningar/loggar.
Stegvis metod (f√∂rtydligande):
- Symptom & scope: vad fungerar/inte? en klient eller m√•nga?
- L√§nk och l√•g-niv√•: lampa, duplex/hastighet, r√§tt VLAN p√• porten.
- Adress & gateway: ip addr/ipconfig, ping gateway.
- Namn & rutter: nslookup/dig, traceroute, tabeller.
- Brandv√§gg/policy: loggar och reglers riktning.
- Applikation: port, certifikat, autentisering.
Symptom & scope: vad fungerar/inte? en klient eller m√•nga?
L√§nk och l√•g-niv√•: lampa, duplex/hastighet, r√§tt VLAN p√• porten.
Adress & gateway: ip addr/ipconfig, ping gateway.
Namn & rutter: nslookup/dig, traceroute, tabeller.
Brandv√§gg/policy: loggar och reglers riktning.
Applikation: port, certifikat, autentisering.
Exempel: Elev-SSID funkar i A-huset men inte i B. Kontroll visar att B-husets trunk inte b√§r VLAN 20 ‚Äì l√§gg till p√• allowed-listan, verifiera med klient.
### 3.1.6 √ñvervakning och loggning
√ñvervakning talar om hur n√§tet m√•r; loggning talar om vad som h√§nde. Anv√§nd SNMP/telemetri f√∂r status/larm (CPU, minne, l√§nk, PoE, temperatur) och centrala loggar f√∂r brandv√§ggsbeslut, inloggningar och systemh√§ndelser. Visualisering (dashboards) och larmtr√∂sklar g√∂r att du kan agera proaktivt.
F√∂rtydligande (sammanfattning):
- SNMP/telemetri: l√§nkar, PoE, resursutnyttjande, WLAN-airtime.
- Syslog/Event: brandv√§gg, autentisering, kritiska fel.
- Dashboards: nyckeltal (upptid, latens, incidents).
SNMP/telemetri: l√§nkar, PoE, resursutnyttjande, WLAN-airtime.
Syslog/Event: brandv√§gg, autentisering, kritiska fel.
Dashboards: nyckeltal (upptid, latens, incidents).
Exempel: Pl√∂tslig airtime-spik i ett v√•ningsplan varje lunch ‚Äì loggar visar g√§st-SSID √∂verbelastat. √Ötg√§rd: extra AP + band steering + min-RSSI.
### 3.1.7 Patchning, √§ndringshantering och backup
Enkla mallar: √Ñrende (namn, syfte, p√•verkan, risk/rollback), √Ñndringslogg (datum, version, ansvarig, sammanfattning), Portetikettering (switch, port, VLAN, beskrivning, plats). Minimikrav f√∂r dokument: titel, datum/version, ansvarig, godk√§nnande, revisionshistorik och referenser.
Regelbundna firmware-/s√§kerhetsuppdateringar minskar risker. K√∂r √§ndringshantering: planera f√∂nster, dokumentera, ha rollback-plan och verifiera efter√•t. S√§kerst√§ll automatiska konfig-backuper fr√•n all n√§tutrustning och versionera dem.
F√∂rtydligande (sammanfattning):
- Patchpolicy: kritiska s√§kerhetsfixar prioriteras, testa i liten skala f√∂rst.
- Change: vem g√∂r vad, n√§r, hur m√§ter vi effekt, hur backar vi.
- Backup: nattliga konfigdump, off-site-kopia, √•terl√§sningstester.
Patchpolicy: kritiska s√§kerhetsfixar prioriteras, testa i liten skala f√∂rst.
Change: vem g√∂r vad, n√§r, hur m√§ter vi effekt, hur backar vi.
Backup: nattliga konfigdump, off-site-kopia, √•terl√§sningstester.
Exempel: Uppgradering av brandv√§gg kl 18:00. F√∂re/efter-m√§tning av latens, tydlig rollback. Konfig tas backup automatiskt och diffas mot golden.
### 3.1.8 S√§ker administration och √•tkomst
B√∂rja s√§kert: lokalt adminkonto, nyckelautentisering (SSH), undvik l√∂senord i klartext, och ta konfigurationsbackup f√∂re och efter √§ndringar.
Till√§mpa least privilege och separera admin-√•tkomst fr√•n anv√§ndartrafik. Ha unika adminkonton, MFA d√§r det g√•r, och en jump host/bastion (jump host/bastion √§r en h√•rt h√§rdad mellanserver i ett separat, s√§kert n√§t; du loggar in d√§r f√∂rst och d√§rifr√•n n√•r du management-IP p√• utrustningen ‚Äî ingen direktadministration fr√•n det vanliga anv√§ndarn√§tet) f√∂r fj√§rradministration. Logga alla f√∂r√§ndringar. L√•s accessportar i lager 2 (Port Security, DHCP Snooping, DAI) och skydda STP med BPDU Guard (se 2.2).
F√∂rtydligande (sammanfattning):
- Adminv√§g: VPN/jump host, management-VLAN, ACL/brandv√§gg.
- Identitet: unika konton, MFA, tidsbegr√§nsade r√§ttigheter.
- L2-skydd: h√•rda portar, snooping/inspection, storm control.
Adminv√§g: VPN/jump host, management-VLAN, ACL/brandv√§gg.
Identitet: unika konton, MFA, tidsbegr√§nsade r√§ttigheter.
L2-skydd: h√•rda portar, snooping/inspection, storm control.
Exempel: Admin kopplar via VPN till bastion i management-VLAN. D√§rifr√•n SSH till switchar/brandv√§gg. Endast bastion f√•r n√• management-IP.
### 3.1.9 Fj√§rr√•tkomst och drift p√• distans
S√§ker fj√§rrdrift kr√§ver r√§tt verktyg och v√§gar. SSH anv√§nds f√∂r n√§t/Unix, RDP f√∂r Windows. F√∂r st√∂rre milj√∂er: central hantering av nycklar/certifikat, sessionsloggning och privileged access-rutiner. Vid internetavbrott: planera out-of-band (t.ex. LTE-modem) f√∂r kritiska platser.
F√∂rtydligande (sammanfattning):
- Protokoll: SSH, RDP ‚Äì alltid krypterat.
- Kanaler: VPN med stark auth; helst inga √∂ppna admin-portar fr√•n internet.
- OOB: alternativ v√§g vid prim√§r-l√§nkned.
Protokoll: SSH, RDP ‚Äì alltid krypterat.
Kanaler: VPN med stark auth; helst inga √∂ppna admin-portar fr√•n internet.
OOB: alternativ v√§g vid prim√§r-l√§nkned.
Exempel: Prim√§r fiber √§r nere ‚Äì OOB-LTE i serverrummet ger √•tkomst till brandv√§ggen f√∂r fels√∂kning och oml√§ggning.
### 3.1.10 Automatisering och skriptning
√Ñven sm√• milj√∂er vinner p√• automatisering: √•terkommande kommandon blir skript; uppgifter standardiseras. PowerShell (Windows) och Bash (Linux) √§r utm√§rkta f√∂r inventering, logginsamlning, mass√§ndringar och rapporter. Anv√§nd mallar (templates) f√∂r switchkonfigar och lagra dem i versionskontroll.
F√∂rtydligande (sammanfattning):
- Verktyg: PowerShell, Bash; p√• sikt konfighantering (t.ex. mallar).
- Vinster: f√§rre manuella fel, repeterbarhet, snabbare √•terst√§llning.
- Sp√•rbarhet: versionshistorik, kodgranskning f√∂r kritiska skript.
Verktyg: PowerShell, Bash; p√• sikt konfighantering (t.ex. mallar).
Vinster: f√§rre manuella fel, repeterbarhet, snabbare √•terst√§llning.
Sp√•rbarhet: versionshistorik, kodgranskning f√∂r kritiska skript.
Exempel: Ett PowerShell-skript l√§ser dom√§nens katalogstruktur och skapar en CSV √∂ver datorobjekt per OU (OU = Organizational Unit, en organisatorisk enhet ‚Äî en grundl√§ggande byggsten i Windows Servers dom√§nhantering d√§r du grupperar datorer och anv√§ndare f√∂r enklare delegering och policy.); samma k√∂rning schemal√§ggs veckovis och postar status i loggkanalen.
### üìå Kontrollfr√•gor
- Vilka m√•l styr n√§tverksadministrationens prioriteringar?
- N√§mn fem verktyg/kommandon du anv√§nder i f√∂rsta fels√∂kningssteget och vad de visar.
- Vad b√∂r ing√• i en standard ‚Äúbaslinje‚Äù p√• switchar/routrar/brandv√§ggar?
- Hur h√§nger DNS och DHCP ihop med anv√§ndarupplevelse i vardagen?
- Beskriv en lager-f√∂r-lager-metod f√∂r fels√∂kning och ge ett exempel.
- Vilka nyckeltal och loggar vill du alltid √∂vervaka?
- Vad inneb√§r √§ndringshantering, och varf√∂r beh√∂ver du en rollback-plan?
- Hur separerar du administrativ √•tkomst fr√•n anv√§ndartrafik p√• ett s√§kert s√§tt?
- N√§r och varf√∂r anv√§nds out-of-band-√•tkomst?
- Ge tv√• praktiska uppgifter som l√§mpar sig f√∂r automatisering med PowerShell/Bash.
Vilka m√•l styr n√§tverksadministrationens prioriteringar?
N√§mn fem verktyg/kommandon du anv√§nder i f√∂rsta fels√∂kningssteget och vad de visar.
Vad b√∂r ing√• i en standard ‚Äúbaslinje‚Äù p√• switchar/routrar/brandv√§ggar?
Hur h√§nger DNS och DHCP ihop med anv√§ndarupplevelse i vardagen?
Beskriv en lager-f√∂r-lager-metod f√∂r fels√∂kning och ge ett exempel.
Vilka nyckeltal och loggar vill du alltid √∂vervaka?
Vad inneb√§r √§ndringshantering, och varf√∂r beh√∂ver du en rollback-plan?
Hur separerar du administrativ √•tkomst fr√•n anv√§ndartrafik p√• ett s√§kert s√§tt?
N√§r och varf√∂r anv√§nds out-of-band-√•tkomst?
Ge tv√• praktiska uppgifter som l√§mpar sig f√∂r automatisering med PowerShell/Bash.
### üîó F√∂rdjupningsl√§nkar
- Microsoft Learn ‚Äì PowerShell-grunder: https://learn.microsoft.com/powershell/
- Wireshark ‚Äì User Guide: https://www.wireshark.org/docs/wsug_html_chunked/
- RPKI/NTP (tid & s√§ker loggning) ‚Äì NTP Project: https://www.ntp.org/documentation/
- Cisco ‚Äì Network Troubleshooting Best Practices (√∂versikter): https://www.cisco.com/c/en/us/support/docs.html
- Debian/Ubuntu ‚Äì iproute2 (ip, ss, tc): https://man7.org/linux/man-pages/man8/ip.8.html
Microsoft Learn ‚Äì PowerShell-grunder: https://learn.microsoft.com/powershell/
Wireshark ‚Äì User Guide: https://www.wireshark.org/docs/wsug_html_chunked/
RPKI/NTP (tid & s√§ker loggning) ‚Äì NTP Project: https://www.ntp.org/documentation/
Cisco ‚Äì Network Troubleshooting Best Practices (√∂versikter): https://www.cisco.com/c/en/us/support/docs.html
Debian/Ubuntu ‚Äì iproute2 (ip, ss, tc): https://man7.org/linux/man-pages/man8/ip.8.html
### ‚úçÔ∏è Egna anteckningar
‚Ä¶
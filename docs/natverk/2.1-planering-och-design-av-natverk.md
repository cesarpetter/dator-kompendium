# Kapitel 1 ‚Äì Vad √§r ett n√§tverk?

## 2.1 Planering och design av n√§tverk

### 2.1.1 M√•l och krav

Ett bra n√§tverk b√∂rjar alltid med att vi f√∂rst√•r varf√∂r det ska byggas och vilka behov det ska uppfylla. Det handlar om att kartl√§gga vad anv√§ndarna faktiskt g√∂r (applikationer, antal samtidiga klienter, fr√•n vilka platser), vilken niv√• av tillg√§nglighet som kr√§vs och vilka s√§kerhetskrav som finns. Denna kravbild blir styrdokumentet f√∂r alla kommande beslut: topologi, adressering, segmentering, brandv√§ggspolicys, samt hur vi designar WLAN f√∂r kapacitet och t√§ckning. N√§r kravspecifikationen √§r tydlig minskar risken f√∂r dyra omtag senare, och det blir enklare att verifiera att l√∂sningen verkligen motsvarar f√∂rv√§ntningarna.

Kom ih√•g (f√∂rtydligande):

- Funktionella krav: antal anv√§ndare/klienter, applikationer (t.ex. VoIP, video), tj√§nster (DNS/DHCP), √•tkomst (lokal/fj√§rr), segmentering (VLAN).
- Icke-funktionella krav: prestanda (bandbredd/latens), tillg√§nglighet, s√§kerhet, skalbarhet, budget.
- Gr√§nssnitt: internetkapacitet, publika IP, site-to-site-behov, leverant√∂rsvillkor.

Funktionella krav: antal anv√§ndare/klienter, applikationer (t.ex. VoIP, video), tj√§nster (DNS/DHCP), √•tkomst (lokal/fj√§rr), segmentering (VLAN).

Icke-funktionella krav: prestanda (bandbredd/latens), tillg√§nglighet, s√§kerhet, skalbarhet, budget.

Gr√§nssnitt: internetkapacitet, publika IP, site-to-site-behov, leverant√∂rsvillkor.

Exempel: ‚ÄúGymnasieskola: 600 samtidiga klienter, elev-/personal-/g√§st-segment separerade, latency <10 ms inom campus, centralt loggkrav, 99,5 % tillg√§nglighet skoltid.‚Äù

### 2.1.2 Arkitektur och topologi

N√§sta steg √§r att v√§lja en arkitektur som √§r begriplig, robust och l√§tt att fels√∂ka. Den klassiska hierarkiska modellen‚ÄîCore ‚Üí Distribution ‚Üí Access‚Äîfungerar utm√§rkt i skolor och campus: core transporterar trafik mellan byggnader och zoner, distribution hanterar routing mellan VLAN och policys, och access kopplar in klienter och accesspunkter. Logiskt anv√§nder vi oftast stj√§rna i accesslagret, med redundanta uppkopplingar upp√•t. Redundans kr√§ver samtidigt loopskydd (STP/RSTP/MSTP). Placeringen av routing avg√∂rs av policys och skalbarhet: antingen i distributionslagret (SVI p√• L3-switchar) eller centralt i brandv√§gg/routers.

Nyckelval (f√∂rtydligande):

- Hierarki: core/distribution/access f√∂r enkel fels√∂kning och skalbarhet.
- Redundans: dubbla l√§nkar/enheter d√§r det ger v√§rde‚Äîoch loopskydd p√• plats.
- Routing: L3 i distribution eller centralt bakom brandv√§gg beroende p√• policys.
- Undvik: l√•nga ‚Äúdaisy chains‚Äù av accesswitchar‚Äîsamla upp till distribution i st√§llet.

Hierarki: core/distribution/access f√∂r enkel fels√∂kning och skalbarhet.

Redundans: dubbla l√§nkar/enheter d√§r det ger v√§rde‚Äîoch loopskydd p√• plats.

Routing: L3 i distribution eller centralt bakom brandv√§gg beroende p√• policys.

Undvik: l√•nga ‚Äúdaisy chains‚Äù av accesswitchar‚Äîsamla upp till distribution i st√§llet.

Exempel: ‚ÄúTv√• distributionsswitchar per hus (stack/vPC), accesswitchar per v√•ningsplan med dubbla uplinks till b√•da distributionerna.‚Äù

### 2.1.3 IP-plan, VLAN och namnstandard

En konsekvent IP- och VLAN-plan √§r avg√∂rande f√∂r drift och fels√∂kning. B√∂rja med att reservera en privat adressrymd (t.ex. 10.0.0.0/8) och dela upp i byggnads- och funktionsbaserade prefix. Knyt sedan varje VLAN till ett subn√§t, definiera gateway-adress, DHCP-scope och DNS/NTP-optioner. Anv√§nd en namnstandard som kodar plats och roll i enhetsnamnet‚Äîdet g√∂r dokumentation och fels√∂kning snabbare.

Rekommendationer (f√∂rtydligande):

- VLAN-konvention: t.ex. VLAN 10 Personal, 20 Elev, 30 G√§st, 40 Servrar, 50 WLAN-AP.
- Subnettering: dimensionera f√∂r samtidiga klienter + tillv√§xt.
- DHCP/DNS: scopes, reservationer, relevanta optioner (router, DNS, NTP).
- Namn: kort, tydligt, inkl. plats/roll (t.ex. HUS1-SW-A3).

VLAN-konvention: t.ex. VLAN 10 Personal, 20 Elev, 30 G√§st, 40 Servrar, 50 WLAN-AP.

Subnettering: dimensionera f√∂r samtidiga klienter + tillv√§xt.

DHCP/DNS: scopes, reservationer, relevanta optioner (router, DNS, NTP).

Namn: kort, tydligt, inkl. plats/roll (t.ex. HUS1-SW-A3).

Exempel: ‚ÄúVLAN 20 (Elev) = 10.20.0.0/22, gateway 10.20.0.1, DHCP 10.20.0.50‚Äì10.20.3.200, DNS 10.40.0.10/11 (AD).‚Äù

### 2.1.4 Fysisk infrastruktur

Den fysiska milj√∂n √§r grunden f√∂r stabil drift. Racks och patchpaneler ska vara m√§rkta och organiserade s√• att service g√•r snabbt. Kablage v√§ljs efter str√§ckor och kapacitet (Cat6/Cat6a i access; multimode eller singlemode fiber i backbone). Planera el och UPS, s√§rskilt om du driver mycket PoE-last (accesspunkter, kameror, telefoner). T√§nk √§ven p√• kylning, l√•sbarhet och kabelv√§gar, s√• att utrustningen √§r skyddad och l√§tt att jobba med.

Checklista (f√∂rtydligande):

- Patchning: m√§rkning och ordning; separera koppar/fiber.
- Kablage: Cat6/Cat6a i access, fiber i backbone.
- PoE-budget: summera AP:er, kameror, telefoner‚Äîdimensionera switchar r√§tt.
- Milj√∂: kylning, l√•s, kabelstegar, 10‚Äì30 % expansionsmarginal.

Patchning: m√§rkning och ordning; separera koppar/fiber.

Kablage: Cat6/Cat6a i access, fiber i backbone.

PoE-budget: summera AP:er, kameror, telefoner‚Äîdimensionera switchar r√§tt.

Milj√∂: kylning, l√•s, kabelstegar, 10‚Äì30 % expansionsmarginal.

Det √§r enklare (och billigare) att l√§gga extra fibrer och n√•gra tomma panelplatser vid installation √§n att g√∂ra om senare.

### 2.1.5 WLAN-design (kanal, t√§ckning, kapacitet)

Ett bra WLAN byggs f√∂r kapacitet och upplevelse, inte bara t√§ckning. B√∂rja med en site survey: kartl√§gg lokaler, v√§ggmaterial, st√∂rk√§llor och var anv√§ndare befinner sig. Planera kanaler och band: 2,4 GHz (802.11/b/g/n) har l√•ng r√§ckvidd men f√• icke-√∂verlappande kanaler och mer st√∂rningar; 5 GHz (802.11/ac) ger fler kanaler och h√∂gre kapacitet men kortare r√§ckvidd (vissa kanaler kr√§ver DFS); 6 GHz (802.11ax i 6 GHz-bandet) erbjuder m√•nga rena kanaler d√§r det √§r till√•tet, men har kortast r√§ckvidd. H√•ll antalet SSID l√•gt och mappa dem till VLAN. Dimensionera f√∂r samtidiga klienter per cell, inte bara ‚Äúen AP per X kvadratmeter‚Äù.

Riktlinjer (f√∂rtydligande):

- Kanalbredd: 20/40 MHz i milj√∂er med m√•nga celler (b√§ttre √•teranv√§ndning).
- SSID-strategi: 2‚Äì4 SSID r√§cker ofta (t.ex. Personal, Elev, G√§st, ev. BYOD).
- Roaming: tillr√§cklig cell√∂verlappning; min-RSSI och band steering vid behov.
- S√§kerhet: WPA2/WPA3 (undvik WEP/TKIP); separera g√§st- och personal-trafik via VLAN/brandv√§gg.

Kanalbredd: 20/40 MHz i milj√∂er med m√•nga celler (b√§ttre √•teranv√§ndning).

SSID-strategi: 2‚Äì4 SSID r√§cker ofta (t.ex. Personal, Elev, G√§st, ev. BYOD).

Roaming: tillr√§cklig cell√∂verlappning; min-RSSI och band steering vid behov.

S√§kerhet: WPA2/WPA3 (undvik WEP/TKIP); separera g√§st- och personal-trafik via VLAN/brandv√§gg.

Exempel: ‚ÄúPersonal-SSID (VLAN 10), Elev-SSID (VLAN 20), G√§st-SSID (VLAN 30). 5 GHz prioriteras; 20/40 MHz; min-RSSI f√∂r att tvinga klienter att sl√§ppa svaga AP:er.‚Äù

### 2.1.6 S√§kerhetsdesign och zoner

S√§kerhet b√∂r byggas in fr√•n b√∂rjan. Dela upp n√§tet i zoner (LAN, Servrar, DMZ, G√§st, Management) och definiera brandv√§ggspolicys med minsta m√∂jliga √•tkomst. Anv√§nd 802.1X f√∂r port- och WLAN-autentisering med RADIUS d√§r det √§r rimligt. Separera management-trafik fr√•n anv√§ndartrafik, och logga mot central syslog/SIEM. T√§nk ocks√• p√• multi-factor-autentisering till kritiska admin-gr√§nssnitt.

Zoner och policys (f√∂rtydligande):

- G√§st ‚Üí Internet: till√•tet; blockerat mot LAN/Servrar.
- Elev ‚Üî Personal: styrt efter behov; inga generella ‚Äúany-any‚Äù.
- LAN ‚Üî Servrar: till√•t endast n√∂dv√§ndiga portar/tj√§nster.
- Management: √•tkomst fr√•n admin-subn√§t/VPN, inte fr√•n klient-VLAN.

G√§st ‚Üí Internet: till√•tet; blockerat mot LAN/Servrar.

Elev ‚Üî Personal: styrt efter behov; inga generella ‚Äúany-any‚Äù.

LAN ‚Üî Servrar: till√•t endast n√∂dv√§ndiga portar/tj√§nster.

Management: √•tkomst fr√•n admin-subn√§t/VPN, inte fr√•n klient-VLAN.

Segmentering minskar spridning vid incidenter och g√∂r fels√∂kning tydligare.

### 2.1.7 Drift, √∂vervakning och livscykel

Designa f√∂r drift fr√•n dag ett. Standardisera grundkonfigurationer (NTP, syslog, AAA/SSH-policy, banners). S√§tt upp √∂vervakning (SNMP/telemetri, larmgr√§nser), och skapa rutiner f√∂r konfig-backup, firmware-uppgraderingar och √§ndringshantering. H√•ll en enkel assetlista (CMDB light) med plats, serie-nr, IP, VLAN och supportstatus.

Praktiskt (f√∂rtydligande):

- √ñvervaka: l√§nkar, PoE-budget, CPU/RAM, fl√§kt/temp, uplinks, WLAN-airtime.
- Backuper: nattliga konfig-dump och versionshantering.
- Change: √§ndringslogg, f√∂nster och tydlig rollback-plan.
- Dokumentation: h√•ll topologi/IP/VLAN/ACL-matris uppdaterad.

√ñvervaka: l√§nkar, PoE-budget, CPU/RAM, fl√§kt/temp, uplinks, WLAN-airtime.

Backuper: nattliga konfig-dump och versionshantering.

Change: √§ndringslogg, f√∂nster och tydlig rollback-plan.

Dokumentation: h√•ll topologi/IP/VLAN/ACL-matris uppdaterad.

Ett n√§t som √§r l√§tt att √∂vervaka √§r ocks√• l√§tt att drifta och fels√∂ka.

### 2.1.8 Test, validering och acceptans

Acceptanstest ‚Äî kort mall: L√§nk och VLAN-reachability, DHCP/DNS, inter-VLAN-policyer, WLAN-roaming/kapacitet, redundans (l√§nkbryt/VRRP/HSRP), loggning/√∂vervakning, backup och rollback dokumenterade.

Avsluta med att bevisa att n√§tet uppfyller kraven. K√∂r funktionstester (DHCP/DNS, inter-VLAN-routing, internet√•tkomst), prestandam√§tningar (throughput, latens/jitter), redundanstr√§ning (bryt l√§nkar, se failover) och en WLAN-lasttest under realistisk belastning (lektionstid). Dokumentera utfallet och spara som acceptansprotokoll.

Testpunkter (f√∂rtydligande):

- Funktion: adress√§ttning, namnuppl√∂sning, policyer (till√•t/blockera).
- Prestanda: uppm√§tt throughput mot krav, latens/jitter i real drift.
- Redundans: STP-konvergens, uplink-failover, VRRP/HSRP (om anv√§nt).
- WLAN: roaming, kanalinterferens, verklig airtime vid h√∂g belastning.

Funktion: adress√§ttning, namnuppl√∂sning, policyer (till√•t/blockera).

Prestanda: uppm√§tt throughput mot krav, latens/jitter i real drift.

Redundans: STP-konvergens, uplink-failover, VRRP/HSRP (om anv√§nt).

WLAN: roaming, kanalinterferens, verklig airtime vid h√∂g belastning.

Exempel: ‚ÄúSimulerat fiberbrott mellan distribution A‚Äìcore: trafiken tog sekund√§r v√§g, applikationer obrutna, logg visar failover <1 s.‚Äù

### 

### üìå Kontrollfr√•gor

- Varf√∂r b√∂r funktionella och icke-funktionella krav dokumenteras innan design?
- Beskriv kort core‚Äìdistribution‚Äìaccess och f√∂rdelen med denna modell.
- Varf√∂r kr√§ver redundanta l√§nkar loopskydd som STP/RSTP?
- Ge exempel p√• en konsekvent VLAN- och namnstandard.
- N√§r b√∂r fiber v√§ljas i backbone i st√§llet f√∂r TP-kabel?
- Varf√∂r ger 20/40 MHz ofta b√§ttre resultat √§n 80/160 MHz i t√§t WLAN-milj√∂?
- Ange tre typiska brandv√§ggspolicys mellan vanliga zoner.
- Varf√∂r √§r 802.1X relevant f√∂r b√•de kabel och WLAN?
- N√§mn tre saker du alltid b√∂r √∂vervaka i produktion.
- Vad b√∂r ing√• i ett acceptanstest innan drifts√§ttning?

Varf√∂r b√∂r funktionella och icke-funktionella krav dokumenteras innan design?

Beskriv kort core‚Äìdistribution‚Äìaccess och f√∂rdelen med denna modell.

Varf√∂r kr√§ver redundanta l√§nkar loopskydd som STP/RSTP?

Ge exempel p√• en konsekvent VLAN- och namnstandard.

N√§r b√∂r fiber v√§ljas i backbone i st√§llet f√∂r TP-kabel?

Varf√∂r ger 20/40 MHz ofta b√§ttre resultat √§n 80/160 MHz i t√§t WLAN-milj√∂?

Ange tre typiska brandv√§ggspolicys mellan vanliga zoner.

Varf√∂r √§r 802.1X relevant f√∂r b√•de kabel och WLAN?

N√§mn tre saker du alltid b√∂r √∂vervaka i produktion.

Vad b√∂r ing√• i ett acceptanstest innan drifts√§ttning?

### 

### üîó F√∂rdjupningsl√§nkar

- https://www.cisco.com/c/en/us/solutions/enterprise/design-zone-campus.html
- https://www.meraki.com/blog/2017/09/vlan-segmentation-best-practices/
- https://www.arista.com/en/solutions/campus-design
- https://wlanprofessionals.com/resources/
- https://www.rfc-editor.org/rfc/rfc3580

https://www.cisco.com/c/en/us/solutions/enterprise/design-zone-campus.html

https://www.meraki.com/blog/2017/09/vlan-segmentation-best-practices/

https://www.arista.com/en/solutions/campus-design

https://wlanprofessionals.com/resources/

https://www.rfc-editor.org/rfc/rfc3580

### 

### ‚úçÔ∏è Egna anteckningar

‚Ä¶



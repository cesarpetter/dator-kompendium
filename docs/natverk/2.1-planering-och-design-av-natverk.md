# Kapitel 1 – Vad är ett nätverk?

## 2.1 Planering och design av nätverk

### 2.1.1 Mål och krav

Ett bra nätverk börjar alltid med att vi förstår varför det ska byggas och vilka behov det ska uppfylla. Det handlar om att kartlägga vad användarna faktiskt gör (applikationer, antal samtidiga klienter, från vilka platser), vilken nivå av tillgänglighet som krävs och vilka säkerhetskrav som finns. Denna kravbild blir styrdokumentet för alla kommande beslut: topologi, adressering, segmentering, brandväggspolicys, samt hur vi designar WLAN för kapacitet och täckning. När kravspecifikationen är tydlig minskar risken för dyra omtag senare, och det blir enklare att verifiera att lösningen verkligen motsvarar förväntningarna.

Kom ihåg (förtydligande):

- Funktionella krav: antal användare/klienter, applikationer (t.ex. VoIP, video), tjänster (DNS/DHCP), åtkomst (lokal/fjärr), segmentering (VLAN).
- Icke-funktionella krav: prestanda (bandbredd/latens), tillgänglighet, säkerhet, skalbarhet, budget.
- Gränssnitt: internetkapacitet, publika IP, site-to-site-behov, leverantörsvillkor.

Funktionella krav: antal användare/klienter, applikationer (t.ex. VoIP, video), tjänster (DNS/DHCP), åtkomst (lokal/fjärr), segmentering (VLAN).

Icke-funktionella krav: prestanda (bandbredd/latens), tillgänglighet, säkerhet, skalbarhet, budget.

Gränssnitt: internetkapacitet, publika IP, site-to-site-behov, leverantörsvillkor.

Exempel: “Gymnasieskola: 600 samtidiga klienter, elev-/personal-/gäst-segment separerade, latency <10 ms inom campus, centralt loggkrav, 99,5 % tillgänglighet skoltid.”

### 2.1.2 Arkitektur och topologi

Nästa steg är att välja en arkitektur som är begriplig, robust och lätt att felsöka. Den klassiska hierarkiska modellen—Core → Distribution → Access—fungerar utmärkt i skolor och campus: core transporterar trafik mellan byggnader och zoner, distribution hanterar routing mellan VLAN och policys, och access kopplar in klienter och accesspunkter. Logiskt använder vi oftast stjärna i accesslagret, med redundanta uppkopplingar uppåt. Redundans kräver samtidigt loopskydd (STP/RSTP/MSTP). Placeringen av routing avgörs av policys och skalbarhet: antingen i distributionslagret (SVI på L3-switchar) eller centralt i brandvägg/routers.

Nyckelval (förtydligande):

- Hierarki: core/distribution/access för enkel felsökning och skalbarhet.
- Redundans: dubbla länkar/enheter där det ger värde—och loopskydd på plats.
- Routing: L3 i distribution eller centralt bakom brandvägg beroende på policys.
- Undvik: långa “daisy chains” av accesswitchar—samla upp till distribution i stället.

Hierarki: core/distribution/access för enkel felsökning och skalbarhet.

Redundans: dubbla länkar/enheter där det ger värde—och loopskydd på plats.

Routing: L3 i distribution eller centralt bakom brandvägg beroende på policys.

Undvik: långa “daisy chains” av accesswitchar—samla upp till distribution i stället.

Exempel: “Två distributionsswitchar per hus (stack/vPC), accesswitchar per våningsplan med dubbla uplinks till båda distributionerna.”

### 2.1.3 IP-plan, VLAN och namnstandard

En konsekvent IP- och VLAN-plan är avgörande för drift och felsökning. Börja med att reservera en privat adressrymd (t.ex. 10.0.0.0/8) och dela upp i byggnads- och funktionsbaserade prefix. Knyt sedan varje VLAN till ett subnät, definiera gateway-adress, DHCP-scope och DNS/NTP-optioner. Använd en namnstandard som kodar plats och roll i enhetsnamnet—det gör dokumentation och felsökning snabbare.

Rekommendationer (förtydligande):

- VLAN-konvention: t.ex. VLAN 10 Personal, 20 Elev, 30 Gäst, 40 Servrar, 50 WLAN-AP.
- Subnettering: dimensionera för samtidiga klienter + tillväxt.
- DHCP/DNS: scopes, reservationer, relevanta optioner (router, DNS, NTP).
- Namn: kort, tydligt, inkl. plats/roll (t.ex. HUS1-SW-A3).

VLAN-konvention: t.ex. VLAN 10 Personal, 20 Elev, 30 Gäst, 40 Servrar, 50 WLAN-AP.

Subnettering: dimensionera för samtidiga klienter + tillväxt.

DHCP/DNS: scopes, reservationer, relevanta optioner (router, DNS, NTP).

Namn: kort, tydligt, inkl. plats/roll (t.ex. HUS1-SW-A3).

Exempel: “VLAN 20 (Elev) = 10.20.0.0/22, gateway 10.20.0.1, DHCP 10.20.0.50–10.20.3.200, DNS 10.40.0.10/11 (AD).”

### 2.1.4 Fysisk infrastruktur

Den fysiska miljön är grunden för stabil drift. Racks och patchpaneler ska vara märkta och organiserade så att service går snabbt. Kablage väljs efter sträckor och kapacitet (Cat6/Cat6a i access; multimode eller singlemode fiber i backbone). Planera el och UPS, särskilt om du driver mycket PoE-last (accesspunkter, kameror, telefoner). Tänk även på kylning, låsbarhet och kabelvägar, så att utrustningen är skyddad och lätt att jobba med.

Checklista (förtydligande):

- Patchning: märkning och ordning; separera koppar/fiber.
- Kablage: Cat6/Cat6a i access, fiber i backbone.
- PoE-budget: summera AP:er, kameror, telefoner—dimensionera switchar rätt.
- Miljö: kylning, lås, kabelstegar, 10–30 % expansionsmarginal.

Patchning: märkning och ordning; separera koppar/fiber.

Kablage: Cat6/Cat6a i access, fiber i backbone.

PoE-budget: summera AP:er, kameror, telefoner—dimensionera switchar rätt.

Miljö: kylning, lås, kabelstegar, 10–30 % expansionsmarginal.

Det är enklare (och billigare) att lägga extra fibrer och några tomma panelplatser vid installation än att göra om senare.

### 2.1.5 WLAN-design (kanal, täckning, kapacitet)

Ett bra WLAN byggs för kapacitet och upplevelse, inte bara täckning. Börja med en site survey: kartlägg lokaler, väggmaterial, störkällor och var användare befinner sig. Planera kanaler och band: 2,4 GHz (802.11/b/g/n) har lång räckvidd men få icke-överlappande kanaler och mer störningar; 5 GHz (802.11/ac) ger fler kanaler och högre kapacitet men kortare räckvidd (vissa kanaler kräver DFS); 6 GHz (802.11ax i 6 GHz-bandet) erbjuder många rena kanaler där det är tillåtet, men har kortast räckvidd. Håll antalet SSID lågt och mappa dem till VLAN. Dimensionera för samtidiga klienter per cell, inte bara “en AP per X kvadratmeter”.

Riktlinjer (förtydligande):

- Kanalbredd: 20/40 MHz i miljöer med många celler (bättre återanvändning).
- SSID-strategi: 2–4 SSID räcker ofta (t.ex. Personal, Elev, Gäst, ev. BYOD).
- Roaming: tillräcklig cellöverlappning; min-RSSI och band steering vid behov.
- Säkerhet: WPA2/WPA3 (undvik WEP/TKIP); separera gäst- och personal-trafik via VLAN/brandvägg.

Kanalbredd: 20/40 MHz i miljöer med många celler (bättre återanvändning).

SSID-strategi: 2–4 SSID räcker ofta (t.ex. Personal, Elev, Gäst, ev. BYOD).

Roaming: tillräcklig cellöverlappning; min-RSSI och band steering vid behov.

Säkerhet: WPA2/WPA3 (undvik WEP/TKIP); separera gäst- och personal-trafik via VLAN/brandvägg.

Exempel: “Personal-SSID (VLAN 10), Elev-SSID (VLAN 20), Gäst-SSID (VLAN 30). 5 GHz prioriteras; 20/40 MHz; min-RSSI för att tvinga klienter att släppa svaga AP:er.”

### 2.1.6 Säkerhetsdesign och zoner

Säkerhet bör byggas in från början. Dela upp nätet i zoner (LAN, Servrar, DMZ, Gäst, Management) och definiera brandväggspolicys med minsta möjliga åtkomst. Använd 802.1X för port- och WLAN-autentisering med RADIUS där det är rimligt. Separera management-trafik från användartrafik, och logga mot central syslog/SIEM. Tänk också på multi-factor-autentisering till kritiska admin-gränssnitt.

Zoner och policys (förtydligande):

- Gäst → Internet: tillåtet; blockerat mot LAN/Servrar.
- Elev ↔ Personal: styrt efter behov; inga generella “any-any”.
- LAN ↔ Servrar: tillåt endast nödvändiga portar/tjänster.
- Management: åtkomst från admin-subnät/VPN, inte från klient-VLAN.

Gäst → Internet: tillåtet; blockerat mot LAN/Servrar.

Elev ↔ Personal: styrt efter behov; inga generella “any-any”.

LAN ↔ Servrar: tillåt endast nödvändiga portar/tjänster.

Management: åtkomst från admin-subnät/VPN, inte från klient-VLAN.

Segmentering minskar spridning vid incidenter och gör felsökning tydligare.

### 2.1.7 Drift, övervakning och livscykel

Designa för drift från dag ett. Standardisera grundkonfigurationer (NTP, syslog, AAA/SSH-policy, banners). Sätt upp övervakning (SNMP/telemetri, larmgränser), och skapa rutiner för konfig-backup, firmware-uppgraderingar och ändringshantering. Håll en enkel assetlista (CMDB light) med plats, serie-nr, IP, VLAN och supportstatus.

Praktiskt (förtydligande):

- Övervaka: länkar, PoE-budget, CPU/RAM, fläkt/temp, uplinks, WLAN-airtime.
- Backuper: nattliga konfig-dump och versionshantering.
- Change: ändringslogg, fönster och tydlig rollback-plan.
- Dokumentation: håll topologi/IP/VLAN/ACL-matris uppdaterad.

Övervaka: länkar, PoE-budget, CPU/RAM, fläkt/temp, uplinks, WLAN-airtime.

Backuper: nattliga konfig-dump och versionshantering.

Change: ändringslogg, fönster och tydlig rollback-plan.

Dokumentation: håll topologi/IP/VLAN/ACL-matris uppdaterad.

Ett nät som är lätt att övervaka är också lätt att drifta och felsöka.

### 2.1.8 Test, validering och acceptans

Acceptanstest — kort mall: Länk och VLAN-reachability, DHCP/DNS, inter-VLAN-policyer, WLAN-roaming/kapacitet, redundans (länkbryt/VRRP/HSRP), loggning/övervakning, backup och rollback dokumenterade.

Avsluta med att bevisa att nätet uppfyller kraven. Kör funktionstester (DHCP/DNS, inter-VLAN-routing, internetåtkomst), prestandamätningar (throughput, latens/jitter), redundansträning (bryt länkar, se failover) och en WLAN-lasttest under realistisk belastning (lektionstid). Dokumentera utfallet och spara som acceptansprotokoll.

Testpunkter (förtydligande):

- Funktion: adressättning, namnupplösning, policyer (tillåt/blockera).
- Prestanda: uppmätt throughput mot krav, latens/jitter i real drift.
- Redundans: STP-konvergens, uplink-failover, VRRP/HSRP (om använt).
- WLAN: roaming, kanalinterferens, verklig airtime vid hög belastning.

Funktion: adressättning, namnupplösning, policyer (tillåt/blockera).

Prestanda: uppmätt throughput mot krav, latens/jitter i real drift.

Redundans: STP-konvergens, uplink-failover, VRRP/HSRP (om använt).

WLAN: roaming, kanalinterferens, verklig airtime vid hög belastning.

Exempel: “Simulerat fiberbrott mellan distribution A–core: trafiken tog sekundär väg, applikationer obrutna, logg visar failover <1 s.”

### 

### 📌 Kontrollfrågor

- Varför bör funktionella och icke-funktionella krav dokumenteras innan design?
- Beskriv kort core–distribution–access och fördelen med denna modell.
- Varför kräver redundanta länkar loopskydd som STP/RSTP?
- Ge exempel på en konsekvent VLAN- och namnstandard.
- När bör fiber väljas i backbone i stället för TP-kabel?
- Varför ger 20/40 MHz ofta bättre resultat än 80/160 MHz i tät WLAN-miljö?
- Ange tre typiska brandväggspolicys mellan vanliga zoner.
- Varför är 802.1X relevant för både kabel och WLAN?
- Nämn tre saker du alltid bör övervaka i produktion.
- Vad bör ingå i ett acceptanstest innan driftsättning?

Varför bör funktionella och icke-funktionella krav dokumenteras innan design?

Beskriv kort core–distribution–access och fördelen med denna modell.

Varför kräver redundanta länkar loopskydd som STP/RSTP?

Ge exempel på en konsekvent VLAN- och namnstandard.

När bör fiber väljas i backbone i stället för TP-kabel?

Varför ger 20/40 MHz ofta bättre resultat än 80/160 MHz i tät WLAN-miljö?

Ange tre typiska brandväggspolicys mellan vanliga zoner.

Varför är 802.1X relevant för både kabel och WLAN?

Nämn tre saker du alltid bör övervaka i produktion.

Vad bör ingå i ett acceptanstest innan driftsättning?

### 

### 🔗 Fördjupningslänkar

- https://www.cisco.com/c/en/us/solutions/enterprise/design-zone-campus.html
- https://www.meraki.com/blog/2017/09/vlan-segmentation-best-practices/
- https://www.arista.com/en/solutions/campus-design
- https://wlanprofessionals.com/resources/
- https://www.rfc-editor.org/rfc/rfc3580

https://www.cisco.com/c/en/us/solutions/enterprise/design-zone-campus.html

https://www.meraki.com/blog/2017/09/vlan-segmentation-best-practices/

https://www.arista.com/en/solutions/campus-design

https://wlanprofessionals.com/resources/

https://www.rfc-editor.org/rfc/rfc3580

### 

### ✍️ Egna anteckningar

…


